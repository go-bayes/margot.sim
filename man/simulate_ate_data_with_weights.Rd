% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/margot-transport-simple.R
\name{simulate_ate_data_with_weights}
\alias{simulate_ate_data_with_weights}
\title{Direct Replacement for simulate_ate_data_with_weights}
\usage{
simulate_ate_data_with_weights(
  n_sample = 10000,
  n_population = 1e+05,
  p_z_sample = 0.1,
  p_z_population = 0.5,
  beta_a = 1,
  beta_z = 2.5,
  beta_az = 0.5,
  noise_sd = 0.5,
  seed = NULL
)
}
\arguments{
\item{n_sample}{Sample size}

\item{n_population}{Population size}

\item{p_z_sample}{Probability of effect modifier Z=1 in sample}

\item{p_z_population}{Probability of effect modifier Z=1 in population}

\item{beta_a}{Treatment effect}

\item{beta_z}{Effect modifier coefficient}

\item{beta_az}{Treatment-by-modifier interaction}

\item{noise_sd}{Standard deviation of outcome noise}

\item{seed}{Random seed for reproducibility}
}
\value{
List containing sample_data and population_data with appropriate weights
}
\description{
This is a simplified direct replacement that exactly mimics the old function's
behavior without using the full margot.sim machinery.
}
\examples{
# Direct replacement usage
data <- simulate_ate_data_with_weights(
  n_sample = 1000,
  n_population = 10000,
  p_z_sample = 0.1,
  p_z_population = 0.5
)

# Check weighted vs unweighted ATE
with(data$sample_data, {
  cat("Unweighted ATE:", mean(y_sample[a_sample==1]) - mean(y_sample[a_sample==0]), "\n")
  cat("Weighted ATE:", 
      weighted.mean(y_sample[a_sample==1], weights[a_sample==1]) - 
      weighted.mean(y_sample[a_sample==0], weights[a_sample==0]), "\n")
})

}
