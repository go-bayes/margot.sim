% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/margot-diagnostics.R
\name{margot_check_positivity}
\alias{margot_check_positivity}
\title{Positivity and Assumption Diagnostics}
\usage{
margot_check_positivity(
  data,
  treatment,
  covariates,
  threshold = 0.01,
  method = c("empirical", "model-based", "both")
)
}
\arguments{
\item{data}{Data frame to check}

\item{treatment}{Character, name of treatment variable}

\item{covariates}{Character vector of covariate names}

\item{threshold}{Numeric, minimum probability threshold (default 0.01)}

\item{method}{Method for checking: "empirical", "model-based", or "both"}
}
\value{
Object of class "margot_positivity_diagnostic" with diagnostics
}
\description{
Functions for diagnosing positivity violations and other causal assumptions
in margot simulations.
}
\details{
Positivity (overlap) requires that all units have a non-zero probability
of receiving each treatment level given their covariates. Violations can
lead to biased or undefined causal estimates.
Check positivity violations in data
}
\examples{
# Create example data with potential positivity violation
set.seed(123)
n <- 1000
data <- data.frame(
  x1 = rnorm(n),
  x2 = rnorm(n),
  # treatment depends strongly on x1
  a = rbinom(n, 1, plogis(3 * x1)),
  y = rnorm(n)
)

# Check positivity
pos_check <- margot_check_positivity(
  data = data,
  treatment = "a",
  covariates = c("x1", "x2")
)
print(pos_check)
plot(pos_check)
}
