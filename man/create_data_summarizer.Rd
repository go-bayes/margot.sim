% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/margot-memory-utils.R
\name{create_data_summarizer}
\alias{create_data_summarizer}
\title{Memory Management Utilities for Monte Carlo Simulations}
\usage{
create_data_summarizer(stats = c("mean", "sd", "quantiles"), vars = NULL)
}
\arguments{
\item{stats}{Character vector of statistics to compute}

\item{vars}{Character vector of variables to summarize (NULL for all)}
}
\value{
Function that summarizes data
}
\description{
Functions to help manage memory usage during large Monte Carlo simulations,
including data summarization, streaming results, and memory monitoring.
Create a summary function for data reduction
}
\examples{
# Create a summarizer that computes means and SDs
summarizer <- create_data_summarizer(
  stats = c("mean", "sd", "quantiles"),
  vars = c("y", "a")
)

# Use in Monte Carlo
\dontrun{
results <- margot_monte_carlo(
  n_reps = 1000,
  n_per_rep = 100,
  dgp_params = list(
    waves = 2,
    treatments = "a",
    interventions = list(
      natural = function(data, time, trt) data[[trt]],
      shifted = function(data, time, trt) pmin(data[[trt]] + 1, 2)
    )
  ),
  estimator_fn = function(data) list(estimate = mean(data$t2_y)),
  summarize_fn = summarizer
)
}
}
