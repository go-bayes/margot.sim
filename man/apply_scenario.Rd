% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/margot-scenarios.R
\name{apply_scenario}
\alias{apply_scenario}
\title{Apply a scenario to data}
\usage{
apply_scenario(data, scenario, verbose = FALSE)
}
\arguments{
\item{data}{Data frame to apply scenario to}

\item{scenario}{A margot_scenario object}

\item{verbose}{Logical, whether to print progress messages}
}
\value{
A list with components:
  \item{data_true}{Original data before shadows}
  \item{data_observed}{Data after applying all shadows}
  \item{scenario}{Name of the applied scenario}
  \item{shadows_applied}{List of applied shadow names}
}
\description{
Applies all shadows in a scenario to a dataset, maintaining the
dual data architecture (true and observed).
}
\examples{
# simulate some data
sim_data <- margot_simulate(n = 1000, waves = 2)

# create and apply a scenario
my_scenario <- create_scenario(
  name = "Realistic conditions",
  shadows = list(
    measurement = create_shadow(
      type = "measurement_error",
      params = list(
        variables = "t1_l",
        error_type = "classical",
        sigma = 0.5
      )
    )
  )
)

result <- apply_scenario(sim_data, my_scenario)

# compare true vs observed data
compare_shadow_effects(result)
}
