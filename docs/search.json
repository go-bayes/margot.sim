[{"path":[]},{"path":[]},{"path":"https://go-bayes.github.io/margot.sim/ISSUES.html","id":"issue-1-enforce-temporal-order-validation-across-all-shadow-types","dir":"","previous_headings":"Critical Issues","what":"Issue 1: Enforce temporal order validation across all shadow types","title":"GitHub Issues for margot.sim","text":"Priority: High Labels: bug, validation Currently, temporal order validation applied shadow types. Need : - Enforce validation apply_shadows() shadow types - Ensure shadows can depend concurrent past variables - Add comprehensive tests","code":""},{"path":"https://go-bayes.github.io/margot.sim/ISSUES.html","id":"issue-2-add-validation-for-estimator-returns-in-monte-carlo","dir":"","previous_headings":"Critical Issues","what":"Issue 2: Add validation for estimator returns in Monte Carlo","title":"GitHub Issues for margot.sim","text":"Priority: HighLabels: enhancement, validation margot_monte_carlo() validate estimator functions return required fields: - Check estimate (required) - Warn missing se converged - Provide clear error messages","code":""},{"path":"https://go-bayes.github.io/margot.sim/ISSUES.html","id":"issue-3-clarify-two-stage-censoring-approach","dir":"","previous_headings":"Critical Issues","what":"Issue 3: Clarify two-stage censoring approach","title":"GitHub Issues for margot.sim","text":"Priority: Medium Labels: documentation relationship apply_censoring = TRUE margot_simulate() apply_censoring_post_hoc() confusing: - Document censoring probs calculated applied - Provide clear workflow examples - Consider renaming clarity","code":""},{"path":"https://go-bayes.github.io/margot.sim/ISSUES.html","id":"issue-4-implement-heterogeneous-treatment-effects-by-baseline-covariates","dir":"","previous_headings":"Critical Issues","what":"Issue 4: Implement heterogeneous treatment effects by baseline covariates","title":"GitHub Issues for margot.sim","text":"Priority: High Labels: enhancement, feature Add support treatment effect heterogeneity baseline characteristics: - Effect modification baseline covariates (b1, b2, b3) - Effect modification baseline outcome (t0_y) available - Effect modification baseline exposure (t0_a) - Clear documentation examples","code":""},{"path":"https://go-bayes.github.io/margot.sim/ISSUES.html","id":"issue-5-track-shadow-interaction-effects","dir":"","previous_headings":"Critical Issues","what":"Issue 5: Track shadow interaction effects","title":"GitHub Issues for margot.sim","text":"Priority: Medium Labels: enhancement, validation multiple shadows applied sequentially: - Track earlier shadows affect later ones - Warn potentially problematic combinations - Document shadow ordering best practices","code":""},{"path":"https://go-bayes.github.io/margot.sim/ISSUES.html","id":"issue-6-validate-intervention-function-outputs","dir":"","previous_headings":"Critical Issues","what":"Issue 6: Validate intervention function outputs","title":"GitHub Issues for margot.sim","text":"Priority: High Labels: bug, validation Add validation intervention functions applied: - Check binary treatments 0/1 - Check continuous treatments within reasonable bounds - Provide informative error messages","code":""},{"path":"https://go-bayes.github.io/margot.sim/ISSUES.html","id":"issue-7-add-warnings-for-positivity-violations","dir":"","previous_headings":"Critical Issues","what":"Issue 7: Add warnings for positivity violations","title":"GitHub Issues for margot.sim","text":"Priority: Medium Labels: enhancement, user-experience positivity shadows filter data: - Warn >X% data removed - Report strata empty - Suggest diagnostics","code":""},{"path":"https://go-bayes.github.io/margot.sim/ISSUES.html","id":"issue-8-fix-misclassification-for-continuous-variables","dir":"","previous_headings":"Critical Issues","what":"Issue 8: Fix misclassification for continuous variables","title":"GitHub Issues for margot.sim","text":"Priority: Medium Labels: bug Currently warns continues. either: - Error clear message continuous vars - Implement proper continuous misclassification","code":""},{"path":"https://go-bayes.github.io/margot.sim/ISSUES.html","id":"issue-9-add-memory-efficient-options-for-large-monte-carlo","dir":"","previous_headings":"Critical Issues","what":"Issue 9: Add memory-efficient options for large Monte Carlo","title":"GitHub Issues for margot.sim","text":"Priority: Low Labels: enhancement, performance large simulations save_data = TRUE: - Option save disk - Implement chunking - Document memory requirements","code":""},{"path":"https://go-bayes.github.io/margot.sim/ISSUES.html","id":"issue-10-document-parallel-processing-limitations","dir":"","previous_headings":"Critical Issues","what":"Issue 10: Document parallel processing limitations","title":"GitHub Issues for margot.sim","text":"Priority: Medium Labels: documentation Clarify functions/objects available parallel workers: - Document objects need explicit export - Provide examples custom functions - Add troubleshooting guide","code":""},{"path":"https://go-bayes.github.io/margot.sim/ISSUES.html","id":"issue-11-implement-flexible-baseline-covariate-generation","dir":"","previous_headings":"Critical Issues","what":"Issue 11: Implement flexible baseline covariate generation","title":"GitHub Issues for margot.sim","text":"Priority: Medium Labels: enhancement, feature Currently hardcoded MVN(0, Σ) correlation 0.3: - Allow custom baseline distributions - Support categorical baselines - Enable time-varying baseline generation","code":""},{"path":"https://go-bayes.github.io/margot.sim/ISSUES.html","id":"issue-12-add-support-for-bounded-continuous-outcomes","dir":"","previous_headings":"Critical Issues","what":"Issue 12: Add support for bounded continuous outcomes","title":"GitHub Issues for margot.sim","text":"Priority: Low Labels: enhancement, feature Many real outcomes natural bounds: - Add outcome_bounds parameter - Implement appropriate transformations - Document bounded outcome handling","code":""},{"path":"https://go-bayes.github.io/margot.sim/ISSUES.html","id":"issue-13-clarify-causal-estimands-in-longitudinal-settings","dir":"","previous_headings":"Critical Issues","what":"Issue 13: Clarify causal estimands in longitudinal settings","title":"GitHub Issues for margot.sim","text":"Priority: High Labels: documentation Better documentation estimands mean longitudinally: - Define ATE time periods - Clarify natural vs stochastic interventions - Provide estimand notation","code":""},{"path":"https://go-bayes.github.io/margot.sim/ISSUES.html","id":"issue-14-add-performance-benchmarks","dir":"","previous_headings":"Critical Issues","what":"Issue 14: Add performance benchmarks","title":"GitHub Issues for margot.sim","text":"Priority: Low Labels: documentation, performance Provide guidance computational complexity: - Benchmark different parameter combinations - Document memory/time scaling - Optimization tips","code":""},{"path":"https://go-bayes.github.io/margot.sim/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 Joseph Bulbulia Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://go-bayes.github.io/margot.sim/articles/applying-shadows.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Applying Observational Shadows","text":"Real-world observational data often “shadow” true underlying process. margot.sim package implements various types observational distortions shadow system. vignette demonstrates apply shadows simulated data.","code":""},{"path":"https://go-bayes.github.io/margot.sim/articles/applying-shadows.html","id":"what-are-shadows","dir":"Articles","previous_headings":"","what":"What are Shadows?","title":"Applying Observational Shadows","text":"Shadows represent common data quality issues observational studies: Measurement error: Variables measured noise Item missingness: Missing data patterns (MCAR, MAR, MNAR) Selection bias: Non-representative sampling Positivity violations: Lack overlap treatment groups","code":""},{"path":"https://go-bayes.github.io/margot.sim/articles/applying-shadows.html","id":"basic-shadow-application","dir":"Articles","previous_headings":"","what":"Basic Shadow Application","title":"Applying Observational Shadows","text":"Let’s start simulating clean data applying shadows:","code":"# Generate clean data set.seed(456) clean_data <- margot_simulate(   n = 1000,   waves = 2,   apply_process_function = FALSE  # Keep raw data )  # Create a measurement error shadow me_shadow <- create_shadow(   type = \"measurement_error\",   params = list(     error_type = \"classical\",     variables = c(\"t1_a\", \"t2_a\"),  # Apply to exposures     sigma = 0.3  # Standard deviation of error   ) )  # Apply the shadow data_with_error <- apply_shadow(clean_data, me_shadow)  # Compare clean vs error-prone measurements plot(clean_data$t1_a, data_with_error$t1_a,      xlab = \"True Exposure\", ylab = \"Measured Exposure\",      main = \"Classical Measurement Error\") abline(0, 1, col = \"red\", lty = 2)"},{"path":"https://go-bayes.github.io/margot.sim/articles/applying-shadows.html","id":"item-missingness-patterns","dir":"Articles","previous_headings":"","what":"Item Missingness Patterns","title":"Applying Observational Shadows","text":"Different missing data mechanisms different implications:","code":"# Missing Completely at Random (MCAR) mcar_shadow <- create_item_missingness_shadow(   variables = c(\"t1_y\", \"t2_y\"),   missing_rate = 0.2,   missing_mechanism = \"MCAR\" )  # Missing at Random (MAR) - depends on observed variables mar_shadow <- create_item_missingness_shadow(   variables = c(\"t1_y\", \"t2_y\"),   missing_rate = 0.3,   missing_mechanism = \"MAR\",   dependent_vars = c(\"b1\", \"t0_a\")  # Missingness depends on these )  # Apply both shadows data_mcar <- apply_shadow(clean_data, mcar_shadow) data_mar <- apply_shadow(clean_data, mar_shadow)  # Compare missingness rates cat(\"MCAR missingness rate:\", mean(is.na(data_mcar$t1_y)), \"\\n\") #> MCAR missingness rate: 0.226 cat(\"MAR missingness rate:\", mean(is.na(data_mar$t1_y)), \"\\n\") #> MAR missingness rate: 0.306"},{"path":"https://go-bayes.github.io/margot.sim/articles/applying-shadows.html","id":"multiple-shadows","dir":"Articles","previous_headings":"","what":"Multiple Shadows","title":"Applying Observational Shadows","text":"can apply multiple shadows sequentially combine :","code":"# Create multiple shadows shadow1 <- create_shadow(   type = \"measurement_error\",   params = list(     error_type = \"classical\",     variables = \"t1_a\",     sigma = 0.2   ) )  shadow2 <- create_item_missingness_shadow(   variables = c(\"t2_y\"),   missing_rate = 0.25,   missing_mechanism = \"MAR\",   dependent_vars = c(\"t1_a\", \"t1_y\") )  # Apply shadows sequentially data_shadowed <- clean_data |>   apply_shadow(shadow1) |>   apply_shadow(shadow2)  # Or use apply_shadows for multiple at once shadows <- list(shadow1, shadow2) data_shadowed2 <- apply_shadows(clean_data, shadows)  # Check results sum(is.na(data_shadowed2$t2_y)) #> [1] 243"},{"path":"https://go-bayes.github.io/margot.sim/articles/applying-shadows.html","id":"positivity-violations","dir":"Articles","previous_headings":"","what":"Positivity Violations","title":"Applying Observational Shadows","text":"Positivity violations occur certain covariate combinations treated/untreated units:","code":"# Create positivity shadow that removes extreme covariate values # Filter function keeps only observations where b1 and b2 are in reasonable range pos_shadow <- create_positivity_shadow(   exposure_var = \"t1_a\",   filter_fn = function(data) {     # Keep observations where covariates are within central 90%     b1_limits <- quantile(data$b1, c(0.05, 0.95))     b2_limits <- quantile(data$b2, c(0.05, 0.95))     data$b1 >= b1_limits[1] & data$b1 <= b1_limits[2] &     data$b2 >= b2_limits[1] & data$b2 <= b2_limits[2]   } )  data_trimmed <- apply_shadow(clean_data, pos_shadow)  # Compare sample sizes cat(\"Original n:\", nrow(clean_data), \"\\n\") #> Original n: 1000 cat(\"After positivity trimming:\", nrow(data_trimmed), \"\\n\") #> After positivity trimming: 811"},{"path":"https://go-bayes.github.io/margot.sim/articles/applying-shadows.html","id":"analyzing-shadow-effects","dir":"Articles","previous_headings":"","what":"Analyzing Shadow Effects","title":"Applying Observational Shadows","text":"can analyze shadows affect data:","code":"# Analyze the effect of measurement error shadow_effects <- analyse_shadow_effects(   original = clean_data,   shadowed = data_with_error,   variables = c(\"t1_a\", \"t2_a\", \"t2_y\") )  print(shadow_effects) #> Shadow Effects Analysis #> ==================== #>  #> Variable: t1_a #>   Missing introduced: 0.0% #>   Mean shift: -0.007 #>   SD ratio: 1.161 #>  #> Variable: t2_a #>   Missing introduced: 0.0% #>   Mean shift: 0.000 #>   SD ratio: 1.166 #>  #> Variable: t2_y #>   Missing introduced: 0.0% #>   Mean shift: 0.000 #>   SD ratio: 1.000"},{"path":"https://go-bayes.github.io/margot.sim/articles/applying-shadows.html","id":"real-world-example-selection-bias","dir":"Articles","previous_headings":"","what":"Real-World Example: Selection Bias","title":"Applying Observational Shadows","text":"Let’s simulate realistic scenario selection bias:","code":"# Generate population data population <- margot_simulate(   n = 5000,   waves = 2,   params = list(     b_a_coef = 0.4,     a_y_coef = 0.6   ) ) #> Warning in validate_proportions(a_coefs, paste0(\"t\", t, \"_a\")): coefficients #> for t1_a sum to 1.00 (>= 0.95), reducing proportionally #> Warning in validate_proportions(a_coefs, paste0(\"t\", t, \"_a\")): coefficients #> for t2_a sum to 1.00 (>= 0.95), reducing proportionally  # Create selection shadow - higher SES more likely to participate selection_shadow <- create_shadow(   type = \"selection\",   params = list(     selection_type = \"custom\",     selection_prob_fn = function(data) {       # Higher b1 and b2 values increase selection probability       # Normalize to 0-1 scale       ses_score <- (data$b1 + data$b2) / 2       ses_normalized <- (ses_score - min(ses_score)) / (max(ses_score) - min(ses_score))       # Map to 30-70% selection probability range       0.3 + 0.4 * ses_normalized     }   ) )  # Apply selection study_sample <- apply_shadow(population, selection_shadow)  # Compare distributions par(mfrow = c(1, 2)) hist(population$b1, main = \"Population SES\", xlab = \"SES Score\") hist(study_sample$b1, main = \"Study Sample SES\", xlab = \"SES Score\")"},{"path":"https://go-bayes.github.io/margot.sim/articles/applying-shadows.html","id":"combining-everything","dir":"Articles","previous_headings":"","what":"Combining Everything","title":"Applying Observational Shadows","text":"’s complete example multiple realistic shadows:","code":"# Start with clean data set.seed(789) true_data <- margot_simulate(   n = 2000,   waves = 3,   n_outcomes = 2 )  # Create realistic shadows shadows <- list(   # Measurement error in exposure   create_shadow(     type = \"measurement_error\",     params = list(       error_type = \"classical\",       variables = c(\"t1_a\", \"t2_a\"),       sigma = 0.25     )   ),      # Differential missingness in outcomes   create_item_missingness_shadow(     variables = c(\"t2_y1\", \"t2_y2\", \"t3_y1\", \"t3_y2\"),     missing_rate = 0.2,     missing_mechanism = \"MAR\",     dependent_vars = c(\"t1_a\", \"b1\")   ),      # Selection on baseline characteristics   create_positivity_shadow(     exposure_var = \"t1_a\",     filter_fn = function(data) {       # Keep central 80% based on covariate values       # This ensures overlap in covariate distributions across treatment levels       cov_score <- rowMeans(scale(data[, c(\"b1\", \"b2\", \"b3\")]))       cov_limits <- quantile(cov_score, c(0.1, 0.9))       cov_score >= cov_limits[1] & cov_score <= cov_limits[2]     }   ) )  # Apply all shadows observed_data <- apply_shadows(true_data, shadows)  # Summary of data quality cat(\"Original sample size:\", nrow(true_data), \"\\n\") #> Original sample size: 2000 cat(\"After shadows:\", nrow(observed_data), \"\\n\") #> After shadows: 1600 cat(\"Outcome missingness rate:\",      mean(is.na(observed_data[, grep(\"y\", names(observed_data))])), \"\\n\") #> Outcome missingness rate: 0.08775"},{"path":"https://go-bayes.github.io/margot.sim/articles/applying-shadows.html","id":"best-practices","dir":"Articles","previous_headings":"","what":"Best Practices","title":"Applying Observational Shadows","text":"Document shadows: Keep track distortions ’ve applied Validate assumptions: Check shadow parameters realistic Compare results: Always compare analyses clean vs shadowed data Use Monte Carlo: systematic evaluation, use margot_monte_carlo()","code":""},{"path":"https://go-bayes.github.io/margot.sim/articles/applying-shadows.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"Applying Observational Shadows","text":"shadow system margot.sim allows : - Add realistic observational distortions simulated data - Combine multiple types bias measurement issues - Systematically evaluate affect analyses - Better understand robustness statistical methods helps bridge gap idealized simulations messy real-world data.","code":""},{"path":"https://go-bayes.github.io/margot.sim/articles/basic-simulation.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Basic Simulation with margot.sim","text":"margot.sim package extends margot package provide sophisticated simulation capabilities longitudinal data analysis. vignette demonstrates basic workflow simulating longitudinal data realistic observational challenges.","code":""},{"path":"https://go-bayes.github.io/margot.sim/articles/basic-simulation.html","id":"basic-simulation","dir":"Articles","previous_headings":"","what":"Basic Simulation","title":"Basic Simulation with margot.sim","text":"core function margot_simulate() generates longitudinal data following semi-Markovian structural causal model (SCM): generated data includes: - id: Subject identifier - b1-b5: Baseline covariates - t0_a, t1_a, etc.: Treatment/exposure wave - t0_y, t1_y, etc.: Outcomes wave - t1_l, t2_l, etc.: Time-varying confounders","code":"# Simulate basic longitudinal data set.seed(123) sim_data <- margot_simulate(   n = 1000,      # Number of subjects   waves = 3,     # Number of measurement waves   n_outcomes = 1 # Number of outcomes (default) )  # View structure str(sim_data[1:5, 1:10]) #> tibble [5 × 10] (S3: tbl_df/tbl/data.frame) #>  $ id                        : int [1:5] 1 2 3 4 5 #>  $ b1                        : num [1:5] 0.2593 -0.0926 -2.1176 -0.5686 1.8588 #>  $ b2                        : num [1:5] 0.542 0.685 -0.277 -0.847 -2.04 #>  $ b3                        : num [1:5] 0.00293 0.21884 -1.29504 1.22672 0.03642 #>  $ b4                        : num [1:5] 1.1163 0.5913 -0.7294 0.0556 1.3662 #>  $ b5                        : num [1:5] -0.062 -0.639 -0.751 -0.101 -1.65 #>  $ t0_a                      : int [1:5] 1 0 1 0 1 #>  $ t0_y                      : num [1:5] -1.068 -1.307 -1.585 0.774 -0.686 #>  $ t0_not_lost_following_wave: int [1:5] 1 1 1 1 1 #>  $ t1_l                      : num [1:5] 0.705 -0.083 1.255 1.508 -0.754 #>  - attr(*, \"time_points\")= chr [1:5] \"t0\" \"t1\" \"t2\" \"t3\" ... #>  - attr(*, \"n_waves\")= int 5 #>  - attr(*, \"processed\")= logi TRUE #>  - attr(*, \"margot_meta\")=List of 15 #>   ..$ params                  :List of 32 #>   .. ..$ cens_rate     : num 0.1 #>   .. ..$ cens_a_coef   : num 0.2 #>   .. ..$ cens_l_coef   : num 0.1 #>   .. ..$ cens_y_coef   : num 0.15 #>   .. ..$ cens_latent_sd: num 0.5 #>   .. ..$ b_l_coef      : num 0.15 #>   .. ..$ b_a_coef      : num 0.1 #>   .. ..$ b_y_coef      : num 0.15 #>   .. ..$ b_l_time_trend: num 0.05 #>   .. ..$ b_l_time_decay: num 0.02 #>   .. ..$ b_l_time_cycle: num 1 #>   .. ..$ a_autoreg     : num 0.25 #>   .. ..$ y_autoreg     : num 0.2 #>   .. ..$ y_a_coef      : num 0.15 #>   .. ..$ y_l_coef      : num 0.1 #>   .. ..$ a_l_coef      : num 0.1 #>   .. ..$ l_a_coef      : num 0.2 #>   .. ..$ l_y_coef      : num 0.15 #>   .. ..$ a_lag_y_coef  : num 0.25 #>   .. ..$ a_b_y_het     : num 0.1 #>   .. ..$ a_l_y_het     : num 0.05 #>   .. ..$ a_b1_y_het    : num 0.1 #>   .. ..$ a_b2_y_het    : num 0.08 #>   .. ..$ a_b3_y_het    : num 0.06 #>   .. ..$ a_y0_y_het    : num 0.15 #>   .. ..$ a_a0_y_het    : num 0.12 #>   .. ..$ y_cor         : num 0.5 #>   .. ..$ y2_shrink     : num 0.8 #>   .. ..$ y3_shrink     : num 0.6 #>   .. ..$ y1_y2_cross   : num 0.1 #>   .. ..$ y1_y3_cross   : num 0.05 #>   .. ..$ y2_y3_cross   : num 0.05 #>   ..$ y_feedback              : chr \"full\" #>   ..$ n_outcomes              : num 1 #>   ..$ n_baselines             : num 5 #>   ..$ exposure_type           : chr \"binary\" #>   ..$ outcome_type            : chr \"continuous\" #>   ..$ structural_model        : chr \"semi-markovian\" #>   ..$ intervention_applied    : logi FALSE #>   ..$ sampling_weights_applied: logi FALSE #>   ..$ censoring_probs         :List of 4 #>   .. ..$ : num [1:1000] 0.119 0.1 0.119 0.1 0.119 ... #>   .. ..$ : num [1:1000] 0.119 0.1 0.119 0.1 0.119 ... #>   .. ..$ : num [1:1000] 0.1 0.1 0.1 0.1 0.119 ... #>   .. ..$ : num [1:1000] 0.1 0.119 0.1 0.1 0.1 ... #>   ..$ waves                   : num 3 #>   ..$ n                       : num 1000 #>   ..$ format                  : chr \"wide\" #>   ..$ timestamp               : POSIXct[1:1], format: \"2025-06-10 18:34:53\" #>   ..$ shadows_applied         : logi FALSE"},{"path":"https://go-bayes.github.io/margot.sim/articles/basic-simulation.html","id":"customizing-the-data-generation-process","dir":"Articles","previous_headings":"","what":"Customizing the Data Generation Process","title":"Basic Simulation with margot.sim","text":"can customize various aspects simulation:","code":"# Custom simulation with specific parameters sim_custom <- margot_simulate(   n = 500,   waves = 4,   n_baselines = 3,        # Fewer baseline covariates   exposure_type = \"continuous\",  # Continuous exposure   outcome_type = \"binary\",       # Binary outcome   params = list(     b_a_coef = 0.3,      # Baseline → exposure effect     a_y_coef = 0.5,      # Exposure → outcome effect     b_y_coef = 0.2       # Baseline → outcome effect   ) )  # Check exposure and outcome types summary(sim_custom$t1_a)  # Continuous #>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.  #> -3.2059 -0.8023 -0.0603 -0.0563  0.6681  5.0258 table(sim_custom$t2_y)    # Binary #>  #>   0   1  #> 240 260"},{"path":"https://go-bayes.github.io/margot.sim/articles/basic-simulation.html","id":"adding-censoring","dir":"Articles","previous_headings":"","what":"Adding Censoring","title":"Basic Simulation with margot.sim","text":"Real-world longitudinal studies often dropout. can add censoring:","code":"# Simulate with censoring sim_censored <- margot_simulate(   n = 1000,   waves = 3,   censoring = list(     rate = 0.2,                    # 20% censoring rate per wave     exposure_dependence = TRUE,    # Censoring depends on exposure     y_dependence = TRUE           # Censoring depends on outcome   ) )  # Check censoring indicators table(sim_censored$t0_not_lost_following_wave) #>  #>    1  #> 1000 table(sim_censored$t1_not_lost_following_wave) #>  #>    1  #> 1000"},{"path":"https://go-bayes.github.io/margot.sim/articles/basic-simulation.html","id":"working-with-long-format","dir":"Articles","previous_headings":"","what":"Working with Long Format","title":"Basic Simulation with margot.sim","text":"many analyses, may want data long format:","code":"# Generate in long format sim_long <- margot_simulate(   n = 200,   waves = 3,   wide = FALSE  # Request long format )  # View structure head(sim_long) #> # A tibble: 6 × 11 #>      id     b1    b2    b3    b4     b5  time     a      y #>   <int>  <dbl> <dbl> <dbl> <dbl>  <dbl> <int> <int>  <dbl> #> 1     1 -0.437 -1.62 -1.34 0.721 -1.94      0     1 -1.89  #> 2     1 -0.437 -1.62 -1.34 0.721 -1.94      1     0 -0.532 #> 3     1 -0.437 -1.62 -1.34 0.721 -1.94      2     1 -0.241 #> 4     1 -0.437 -1.62 -1.34 0.721 -1.94      3     0  0.390 #> 5     1 -0.437 -1.62 -1.34 0.721 -1.94      4    NA  1.37  #> 6     2  0.192  1.66  2.99 0.567  0.846     0     1  0.411 #> # ℹ 2 more variables: not_lost_following_wave <int>, l <dbl>  # Number of observations per person table(table(sim_long$id)) #>  #>   5  #> 200"},{"path":"https://go-bayes.github.io/margot.sim/articles/basic-simulation.html","id":"using-interventions","dir":"Articles","previous_headings":"","what":"Using Interventions","title":"Basic Simulation with margot.sim","text":"can simulate data specific intervention regimes:","code":"# Define an intervention that sets treatment to 1 for everyone always_treat <- function(data, time, trt) {   rep(1, nrow(data)) }  # Simulate under intervention sim_intervention <- margot_simulate(   n = 500,   waves = 2,   intervention = always_treat ) #> Warning in check_positivity(df$t0_a, \"t0_a\", 0): Positivity violation at time 0 #> for t0_a: 100.0% treated (threshold: 1.0%) #> Warning in check_positivity(df[[paste0(\"t\", t, \"_a\")]], paste0(\"t\", t, \"_a\"), : #> Positivity violation at time 1 for t1_a: 100.0% treated (threshold: 1.0%) #> Warning in check_positivity(df[[paste0(\"t\", t, \"_a\")]], paste0(\"t\", t, \"_a\"), : #> Positivity violation at time 2 for t2_a: 100.0% treated (threshold: 1.0%)  # Verify intervention was applied table(sim_intervention$t1_a)  # All 1s #>  #>   1  #> 500"},{"path":"https://go-bayes.github.io/margot.sim/articles/basic-simulation.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Basic Simulation with margot.sim","text":"vignette covered basic simulation. See vignettes : Applying Shadows: add measurement error, missingness, selection bias Monte Carlo Evaluation: evaluate estimator performance Causal Inference: simulate data causal effect estimation","code":""},{"path":"https://go-bayes.github.io/margot.sim/articles/basic-simulation.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"Basic Simulation with margot.sim","text":"margot_simulate() function provides flexible framework generating realistic longitudinal data : Customizable structural causal models Various exposure outcome types Realistic censoring patterns Support interventions wide long format output forms foundation advanced simulation studies evaluate statistical methods realistic conditions.","code":""},{"path":"https://go-bayes.github.io/margot.sim/articles/monte-carlo-simple.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Monte Carlo Evaluation - Simple Example","text":"vignette provides simple example using Monte Carlo framework margot.sim evaluate estimator performance.","code":""},{"path":"https://go-bayes.github.io/margot.sim/articles/monte-carlo-simple.html","id":"basic-monte-carlo-simulation","dir":"Articles","previous_headings":"","what":"Basic Monte Carlo Simulation","title":"Monte Carlo Evaluation - Simple Example","text":"","code":"# Define a simple regression estimator simple_regression <- function(data) {   # Check if we have the required variables   if (!all(c(\"t3_y\", \"t2_a\", \"b1\", \"b2\", \"b3\") %in% names(data))) {     return(list(estimate = NA, se = NA, converged = FALSE))   }      # Fit model   fit <- lm(t3_y ~ t2_a + b1 + b2 + b3, data = data)      # Extract coefficient   if (\"t2_a\" %in% rownames(coef(summary(fit)))) {     coef_summary <- summary(fit)$coefficients[\"t2_a\", ]     return(list(       estimate = coef_summary[\"Estimate\"],       se = coef_summary[\"Std. Error\"],       converged = TRUE     ))   } else {     return(list(estimate = NA, se = NA, converged = FALSE))   } }  # Run Monte Carlo simulation mc_results <- margot_monte_carlo(   n_reps = 100,   n_per_rep = 500,   dgp_params = list(     waves = 2,     treatments = \"a\",     interventions = list(natural = function(data, time, trt) data[[trt]]),     params = list(a_y_coef = 0.5)   ),   estimator_fn = simple_regression,   seed = 123 ) #>   |                                                                              |                                                                      |   0%  |                                                                              |=                                                                     |   1%  |                                                                              |=                                                                     |   2%  |                                                                              |==                                                                    |   3%  |                                                                              |===                                                                   |   4%  |                                                                              |====                                                                  |   5%  |                                                                              |====                                                                  |   6%  |                                                                              |=====                                                                 |   7%  |                                                                              |======                                                                |   8%  |                                                                              |======                                                                |   9%  |                                                                              |=======                                                               |  10%  |                                                                              |========                                                              |  11%  |                                                                              |========                                                              |  12%  |                                                                              |=========                                                             |  13%  |                                                                              |==========                                                            |  14%  |                                                                              |==========                                                            |  15%  |                                                                              |===========                                                           |  16%  |                                                                              |============                                                          |  17%  |                                                                              |=============                                                         |  18%  |                                                                              |=============                                                         |  19%  |                                                                              |==============                                                        |  20%  |                                                                              |===============                                                       |  21%  |                                                                              |===============                                                       |  22%  |                                                                              |================                                                      |  23%  |                                                                              |=================                                                     |  24%  |                                                                              |==================                                                    |  25%  |                                                                              |==================                                                    |  26%  |                                                                              |===================                                                   |  27%  |                                                                              |====================                                                  |  28%  |                                                                              |====================                                                  |  29%  |                                                                              |=====================                                                 |  30%  |                                                                              |======================                                                |  31%  |                                                                              |======================                                                |  32%  |                                                                              |=======================                                               |  33%  |                                                                              |========================                                              |  34%  |                                                                              |========================                                              |  35%  |                                                                              |=========================                                             |  36%  |                                                                              |==========================                                            |  37%  |                                                                              |===========================                                           |  38%  |                                                                              |===========================                                           |  39%  |                                                                              |============================                                          |  40%  |                                                                              |=============================                                         |  41%  |                                                                              |=============================                                         |  42%  |                                                                              |==============================                                        |  43%  |                                                                              |===============================                                       |  44%  |                                                                              |================================                                      |  45%  |                                                                              |================================                                      |  46%  |                                                                              |=================================                                     |  47%  |                                                                              |==================================                                    |  48%  |                                                                              |==================================                                    |  49%  |                                                                              |===================================                                   |  50%  |                                                                              |====================================                                  |  51%  |                                                                              |====================================                                  |  52%  |                                                                              |=====================================                                 |  53%  |                                                                              |======================================                                |  54%  |                                                                              |======================================                                |  55%  |                                                                              |=======================================                               |  56%  |                                                                              |========================================                              |  57%  |                                                                              |=========================================                             |  58%  |                                                                              |=========================================                             |  59%  |                                                                              |==========================================                            |  60%  |                                                                              |===========================================                           |  61%  |                                                                              |===========================================                           |  62%  |                                                                              |============================================                          |  63%  |                                                                              |=============================================                         |  64%  |                                                                              |==============================================                        |  65%  |                                                                              |==============================================                        |  66%  |                                                                              |===============================================                       |  67%  |                                                                              |================================================                      |  68%  |                                                                              |================================================                      |  69%  |                                                                              |=================================================                     |  70%  |                                                                              |==================================================                    |  71%  |                                                                              |==================================================                    |  72%  |                                                                              |===================================================                   |  73%  |                                                                              |====================================================                  |  74%  |                                                                              |====================================================                  |  75%  |                                                                              |=====================================================                 |  76%  |                                                                              |======================================================                |  77%  |                                                                              |=======================================================               |  78%  |                                                                              |=======================================================               |  79%  |                                                                              |========================================================              |  80%  |                                                                              |=========================================================             |  81%  |                                                                              |=========================================================             |  82%  |                                                                              |==========================================================            |  83%  |                                                                              |===========================================================           |  84%  |                                                                              |============================================================          |  85%  |                                                                              |============================================================          |  86%  |                                                                              |=============================================================         |  87%  |                                                                              |==============================================================        |  88%  |                                                                              |==============================================================        |  89%  |                                                                              |===============================================================       |  90%  |                                                                              |================================================================      |  91%  |                                                                              |================================================================      |  92%  |                                                                              |=================================================================     |  93%  |                                                                              |==================================================================    |  94%  |                                                                              |==================================================================    |  95%  |                                                                              |===================================================================   |  96%  |                                                                              |====================================================================  |  97%  |                                                                              |===================================================================== |  98%  |                                                                              |===================================================================== |  99%  |                                                                              |======================================================================| 100% #>  #> Completed 100 replications in 0.3 seconds #> $convergence_rate #> [1] 1 #>  #> $n_valid #> [1] 100 #>  #> $mean_estimate #> [1] 0.3783291 #>  #> $sd_estimate #> [1] 0.1212455 #>  #> $avg_retention #> [1] 0.70518 #>  #> $avg_computation_time #> [1] 0.003128896  # View results print(mc_results) #> Monte Carlo Simulation Results #> ============================== #>  #> Simulation Setup: #>   Replications: 100 #>   Sample size per rep: 500 #>   Total computation time: 0.3 seconds #>  #> Performance Metrics: #>   Convergence rate: 100.0% #>   Average sample retention: 70.5%"},{"path":"https://go-bayes.github.io/margot.sim/articles/monte-carlo-simple.html","id":"understanding-the-results","dir":"Articles","previous_headings":"","what":"Understanding the Results","title":"Monte Carlo Evaluation - Simple Example","text":"Monte Carlo results include: - Summary statistics: Mean estimate, bias, variance, RMSE across replications - Performance metrics: Coverage confidence intervals, convergence rate - Individual results: Estimates replication (needed diagnostics)","code":""},{"path":"https://go-bayes.github.io/margot.sim/articles/monte-carlo-simple.html","id":"adding-shadows","dir":"Articles","previous_headings":"","what":"Adding Shadows","title":"Monte Carlo Evaluation - Simple Example","text":"can evaluate observational distortions affect estimator:","code":"# Create measurement error shadow me_shadow <- create_shadow(   type = \"measurement_error\",   params = list(     error_type = \"classical\",     variables = \"t2_a\",     sigma = 0.3   ) )  # Run with shadow mc_with_error <- margot_monte_carlo(   n_reps = 100,   n_per_rep = 500,   dgp_params = list(     waves = 2,     treatments = \"a\",     interventions = list(natural = function(data, time, trt) data[[trt]]),     params = list(a_y_coef = 0.5)   ),   shadows = list(me_shadow),   estimator_fn = simple_regression,   seed = 456 ) #>   |                                                                              |                                                                      |   0%  |                                                                              |=                                                                     |   1%  |                                                                              |=                                                                     |   2%  |                                                                              |==                                                                    |   3%  |                                                                              |===                                                                   |   4%  |                                                                              |====                                                                  |   5%  |                                                                              |====                                                                  |   6%  |                                                                              |=====                                                                 |   7%  |                                                                              |======                                                                |   8%  |                                                                              |======                                                                |   9%  |                                                                              |=======                                                               |  10%  |                                                                              |========                                                              |  11%  |                                                                              |========                                                              |  12%  |                                                                              |=========                                                             |  13%  |                                                                              |==========                                                            |  14%  |                                                                              |==========                                                            |  15%  |                                                                              |===========                                                           |  16%  |                                                                              |============                                                          |  17%  |                                                                              |=============                                                         |  18%  |                                                                              |=============                                                         |  19%  |                                                                              |==============                                                        |  20%  |                                                                              |===============                                                       |  21%  |                                                                              |===============                                                       |  22%  |                                                                              |================                                                      |  23%  |                                                                              |=================                                                     |  24%  |                                                                              |==================                                                    |  25%  |                                                                              |==================                                                    |  26%  |                                                                              |===================                                                   |  27%  |                                                                              |====================                                                  |  28%  |                                                                              |====================                                                  |  29%  |                                                                              |=====================                                                 |  30%  |                                                                              |======================                                                |  31%  |                                                                              |======================                                                |  32%  |                                                                              |=======================                                               |  33%  |                                                                              |========================                                              |  34%  |                                                                              |========================                                              |  35%  |                                                                              |=========================                                             |  36%  |                                                                              |==========================                                            |  37%  |                                                                              |===========================                                           |  38%  |                                                                              |===========================                                           |  39%  |                                                                              |============================                                          |  40%  |                                                                              |=============================                                         |  41%  |                                                                              |=============================                                         |  42%  |                                                                              |==============================                                        |  43%  |                                                                              |===============================                                       |  44%  |                                                                              |================================                                      |  45%  |                                                                              |================================                                      |  46%  |                                                                              |=================================                                     |  47%  |                                                                              |==================================                                    |  48%  |                                                                              |==================================                                    |  49%  |                                                                              |===================================                                   |  50%  |                                                                              |====================================                                  |  51%  |                                                                              |====================================                                  |  52%  |                                                                              |=====================================                                 |  53%  |                                                                              |======================================                                |  54%  |                                                                              |======================================                                |  55%  |                                                                              |=======================================                               |  56%  |                                                                              |========================================                              |  57%  |                                                                              |=========================================                             |  58%  |                                                                              |=========================================                             |  59%  |                                                                              |==========================================                            |  60%  |                                                                              |===========================================                           |  61%  |                                                                              |===========================================                           |  62%  |                                                                              |============================================                          |  63%  |                                                                              |=============================================                         |  64%  |                                                                              |==============================================                        |  65%  |                                                                              |==============================================                        |  66%  |                                                                              |===============================================                       |  67%  |                                                                              |================================================                      |  68%  |                                                                              |================================================                      |  69%  |                                                                              |=================================================                     |  70%  |                                                                              |==================================================                    |  71%  |                                                                              |==================================================                    |  72%  |                                                                              |===================================================                   |  73%  |                                                                              |====================================================                  |  74%  |                                                                              |====================================================                  |  75%  |                                                                              |=====================================================                 |  76%  |                                                                              |======================================================                |  77%  |                                                                              |=======================================================               |  78%  |                                                                              |=======================================================               |  79%  |                                                                              |========================================================              |  80%  |                                                                              |=========================================================             |  81%  |                                                                              |=========================================================             |  82%  |                                                                              |==========================================================            |  83%  |                                                                              |===========================================================           |  84%  |                                                                              |============================================================          |  85%  |                                                                              |============================================================          |  86%  |                                                                              |=============================================================         |  87%  |                                                                              |==============================================================        |  88%  |                                                                              |==============================================================        |  89%  |                                                                              |===============================================================       |  90%  |                                                                              |================================================================      |  91%  |                                                                              |================================================================      |  92%  |                                                                              |=================================================================     |  93%  |                                                                              |==================================================================    |  94%  |                                                                              |==================================================================    |  95%  |                                                                              |===================================================================   |  96%  |                                                                              |====================================================================  |  97%  |                                                                              |===================================================================== |  98%  |                                                                              |===================================================================== |  99%  |                                                                              |======================================================================| 100% #>  #> Completed 100 replications in 0.3 seconds #> $convergence_rate #> [1] 1 #>  #> $n_valid #> [1] 100 #>  #> $mean_estimate #> [1] 0.2562884 #>  #> $sd_estimate #> [1] 0.1069397 #>  #> $avg_retention #> [1] 0.70722 #>  #> $avg_computation_time #> [1] 0.003038852  # Compare results cat(\"Without measurement error:\\n\") #> Without measurement error: if (!is.null(mc_results$performance$bias)) {   cat(\"  Bias:\", round(mc_results$performance$bias, 3), \"\\n\")   cat(\"  RMSE:\", round(mc_results$performance$rmse, 3), \"\\n\\n\") } else {   cat(\"  Mean estimate:\", round(mc_results$performance$mean_estimate, 3), \"\\n\\n\") } #>   Mean estimate: 0.378  cat(\"With measurement error:\\n\") #> With measurement error: if (!is.null(mc_with_error$performance$bias)) {   cat(\"  Bias:\", round(mc_with_error$performance$bias, 3), \"\\n\")   cat(\"  RMSE:\", round(mc_with_error$performance$rmse, 3), \"\\n\") } else {   cat(\"  Mean estimate:\", round(mc_with_error$performance$mean_estimate, 3), \"\\n\") } #>   Mean estimate: 0.256"},{"path":"https://go-bayes.github.io/margot.sim/articles/monte-carlo-simple.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"Monte Carlo Evaluation - Simple Example","text":"Monte Carlo framework helps : 1. Evaluate estimator performance known truth 2. Compare methods different conditions 3. Understand impact observational challenges 4. Make informed choices statistical methods advanced examples, see full Monte Carlo vignette.","code":""},{"path":"https://go-bayes.github.io/margot.sim/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Joseph Bulbulia. Author, maintainer.","code":""},{"path":"https://go-bayes.github.io/margot.sim/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Bulbulia J (2025). margot.sim: Simulate Longitudinal Data Observational Shadows Monte Carlo Evaluation. R package version 0.1.1, https://go-bayes.github.io/margot.sim/.","code":"@Manual{,   title = {margot.sim: Simulate Longitudinal Data with Observational Shadows and Monte Carlo Evaluation},   author = {Joseph Bulbulia},   year = {2025},   note = {R package version 0.1.1},   url = {https://go-bayes.github.io/margot.sim/}, }"},{"path":"https://go-bayes.github.io/margot.sim/index.html","id":"margotsim","dir":"","previous_headings":"","what":"Simulate Longitudinal Data with Observational Shadows and Monte Carlo Evaluation","title":"Simulate Longitudinal Data with Observational Shadows and Monte Carlo Evaluation","text":"R package simulating longitudinal data realistic observational shadows (measurement error, missingness, selection bias) evaluating causal inference methods via Monte Carlo simulation.","code":""},{"path":"https://go-bayes.github.io/margot.sim/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Simulate Longitudinal Data with Observational Shadows and Monte Carlo Evaluation","text":"can install development version margot.sim GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"go-bayes/margot.sim\")"},{"path":"https://go-bayes.github.io/margot.sim/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Simulate Longitudinal Data with Observational Shadows and Monte Carlo Evaluation","text":"margot.sim extends margot package : Shadowing Framework - Apply observational distortions (measurement error, missingness, selection bias) Monte Carlo Framework - Systematically evaluate statistical estimators Flexible Distributions - Specify non-normal distributions Integrated Workflows - Complete simulation studies","code":""},{"path":"https://go-bayes.github.io/margot.sim/index.html","id":"quick-start","dir":"","previous_headings":"","what":"Quick Start","title":"Simulate Longitudinal Data with Observational Shadows and Monte Carlo Evaluation","text":"","code":"library(margot.sim)  # Generate data with measurement error shadow <- create_shadow(   type = \"measurement_error\",   params = list(     variables = c(\"t1_l\", \"t2_l\"),     error_type = \"classical\",     sigma = 0.5   ) )  dat <- margot_simulate(   n = 1000,   waves = 3,   shadows = shadow )  # Run Monte Carlo evaluation mc_results <- margot_monte_carlo(   n_reps = 100,   n_per_rep = 500,   dgp_params = list(waves = 2),   shadows = list(shadow),   estimator_fn = function(data) {     fit <- lm(t3_y ~ t2_a + t1_l + b1, data = data)     list(       estimate = coef(fit)[\"t2_a\"],       se = sqrt(diag(vcov(fit)))[\"t2_a\"]     )   } )  print(mc_results)"},{"path":[]},{"path":"https://go-bayes.github.io/margot.sim/index.html","id":"available-shadow-types","dir":"","previous_headings":"Shadowing Framework","what":"Available Shadow Types","title":"Simulate Longitudinal Data with Observational Shadows and Monte Carlo Evaluation","text":"Measurement Error: - Classical error (continuous variables) - Misclassification (binary variables) - Differential error - Dichotomization - Correlated errors Missing Data: Selection Bias:","code":"# Classical measurement error me_shadow <- create_shadow(   type = \"measurement_error\",   params = list(     variables = \"t1_l\",     error_type = \"classical\",     sigma = 0.5   ) )  # Misclassification for binary variables misclass_shadow <- create_shadow(   type = \"measurement_error\",    params = list(     variables = \"t1_a\",     error_type = \"misclassification\",     sensitivity = 0.85,  # P(observed=1|true=1)     specificity = 0.90   # P(observed=0|true=0)   ) ) # Item-level missingness miss_shadow <- create_item_missingness_shadow(   variables = c(\"t1_l\", \"t2_l\"),   missing_rate = 0.2,   missing_mechanism = \"MAR\",   dependent_vars = \"b1\" ) # Positivity violations pos_shadow <- create_positivity_shadow(   exposure_var = \"t1_a\",   filter_fn = function(data) {     # Treatment only possible if risk score <= 2     data$b1 + data$b2 <= 2   } )"},{"path":"https://go-bayes.github.io/margot.sim/index.html","id":"combining-shadows","dir":"","previous_headings":"Shadowing Framework","what":"Combining Shadows","title":"Simulate Longitudinal Data with Observational Shadows and Monte Carlo Evaluation","text":"","code":"# Apply multiple shadows shadows <- list(me_shadow, miss_shadow) dat <- margot_simulate(n = 1000, waves = 3, shadows = shadows)  # Or apply post-hoc shadowed_data <- apply_shadows(dat, shadows)"},{"path":"https://go-bayes.github.io/margot.sim/index.html","id":"monte-carlo-framework","dir":"","previous_headings":"","what":"Monte Carlo Framework","title":"Simulate Longitudinal Data with Observational Shadows and Monte Carlo Evaluation","text":"Evaluate estimator performance various conditions:","code":"# Define estimator ipw_estimator <- function(data) {   # Fit propensity score model   ps_model <- glm(t1_a ~ b1 + b2 + t0_l,                    data = data,                    family = binomial)   ps <- predict(ps_model, type = \"response\")      # Calculate weights   weights <- ifelse(data$t1_a == 1, 1/ps, 1/(1-ps))      # Outcome model   fit <- lm(t2_y ~ t1_a, weights = weights, data = data)      list(     estimate = coef(fit)[\"t1_a\"],     se = sqrt(diag(vcov(fit)))[\"t1_a\"],     converged = TRUE   ) }  # Run simulation results <- margot_monte_carlo(   n_reps = 500,   n_per_rep = 1000,   dgp_params = list(     waves = 2,     params = list(a_lag_y_coef = 0.3)  # True effect   ),   shadows = list(me_shadow, miss_shadow),   estimator_fn = ipw_estimator,   truth_fn = function(data) 0.3,   parallel = TRUE,   n_cores = 4 )  # View results print(results) plot(results, type = \"histogram\")"},{"path":"https://go-bayes.github.io/margot.sim/index.html","id":"performance-metrics","dir":"","previous_headings":"Monte Carlo Framework","what":"Performance Metrics","title":"Simulate Longitudinal Data with Observational Shadows and Monte Carlo Evaluation","text":"framework automatically calculates: - Bias relative bias - Variance MSE - Coverage confidence intervals - Convergence rates - Sample size retention","code":""},{"path":"https://go-bayes.github.io/margot.sim/index.html","id":"complete-example","dir":"","previous_headings":"","what":"Complete Example","title":"Simulate Longitudinal Data with Observational Shadows and Monte Carlo Evaluation","text":"","code":"# Compare estimators under measurement error comparison <- example_measurement_error_comparison()  # Full workflow demonstration results <- example_complete_workflow()"},{"path":[]},{"path":"https://go-bayes.github.io/margot.sim/index.html","id":"custom-shadows","dir":"","previous_headings":"Advanced Usage","what":"Custom Shadows","title":"Simulate Longitudinal Data with Observational Shadows and Monte Carlo Evaluation","text":"Create shadow types:","code":"# Define apply method apply_shadow.my_custom_shadow <- function(data, shadow, ...) {   # Your shadowing logic here   data }  # Use it shadow <- structure(   list(type = \"my_custom\", params = list(...)),   class = c(\"my_custom_shadow\", \"margot_shadow\") )"},{"path":"https://go-bayes.github.io/margot.sim/index.html","id":"flexible-distributions","dir":"","previous_headings":"Advanced Usage","what":"Flexible Distributions","title":"Simulate Longitudinal Data with Observational Shadows and Monte Carlo Evaluation","text":"","code":"# Non-normal baseline gamma_dist <- create_distribution(   \"gamma\",   params = list(shape = 2, rate = 1) )  # Use in simulation dat <- margot_simulate_flex(   n = 1000,   distributions = list(baseline = gamma_dist) )"},{"path":"https://go-bayes.github.io/margot.sim/index.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"Simulate Longitudinal Data with Observational Shadows and Monte Carlo Evaluation","text":"detailed documentation, see:","code":"# Package documentation ?margot.sim  # Key functions ?create_shadow ?margot_monte_carlo ?margot_simulate  # Examples example(create_shadow) example(margot_monte_carlo)"},{"path":"https://go-bayes.github.io/margot.sim/index.html","id":"contributing","dir":"","previous_headings":"","what":"Contributing","title":"Simulate Longitudinal Data with Observational Shadows and Monte Carlo Evaluation","text":"Contributions welcome! Please: Fork repository Create feature branch Add tests new functionality Submit pull request","code":""},{"path":"https://go-bayes.github.io/margot.sim/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Simulate Longitudinal Data with Observational Shadows and Monte Carlo Evaluation","text":"MIT License","code":""},{"path":"https://go-bayes.github.io/margot.sim/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Simulate Longitudinal Data with Observational Shadows and Monte Carlo Evaluation","text":"use margot.sim research, please cite:","code":""},{"path":"https://go-bayes.github.io/margot.sim/index.html","id":"note","dir":"","previous_headings":"","what":"Note","title":"Simulate Longitudinal Data with Observational Shadows and Monte Carlo Evaluation","text":"Observational data often poor reflection reality. margot.sim package provides simulation framework quantify statistical estimators perform data fed shadows true causal process. concept nods Plato’s Allegory Cave, prisoners mistake shadows real forms (Bloom, Kirsch, et al. 1968). margot.sim allows researchers generate data known causal truth systematically distort “shadows” see well estimator can glimpse ground truth (underlying forms). framework’s power comes consistent architecture. Recurring observational challenges—item-level missingness creates realistic missing data patterns, positivity violations test boundaries causal identification—implemented distinct shadows. modular design maintains **clean separation true data-generating process distorted data investigators observe, allowing principled evaluation statistical methods face real-world data limitations (Bulbulia 2024).","code":""},{"path":"https://go-bayes.github.io/margot.sim/index.html","id":"references","dir":"","previous_headings":"","what":"References","title":"Simulate Longitudinal Data with Observational Shadows and Monte Carlo Evaluation","text":"","code":"citation(\"margot.sim\")"},{"path":"https://go-bayes.github.io/margot.sim/reference/analyse_mask_effects.html","id":null,"dir":"Reference","previous_headings":"","what":"Compare data before and after masking — analyse_mask_effects","title":"Compare data before and after masking — analyse_mask_effects","text":"Compare data masking","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/analyse_mask_effects.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compare data before and after masking — analyse_mask_effects","text":"","code":"analyse_mask_effects(original, masked, variables = NULL)"},{"path":"https://go-bayes.github.io/margot.sim/reference/analyse_mask_effects.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compare data before and after masking — analyse_mask_effects","text":"original Original data masked Masked data variables Variables compare","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/analyse_mask_effects.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compare data before and after masking — analyse_mask_effects","text":"Summary mask effects","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/analyse_shadow_effects.html","id":null,"dir":"Reference","previous_headings":"","what":"Compare data before and after shadowing — analyse_shadow_effects","title":"Compare data before and after shadowing — analyse_shadow_effects","text":"Compare data shadowing","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/analyse_shadow_effects.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compare data before and after shadowing — analyse_shadow_effects","text":"","code":"analyse_shadow_effects(original, shadowed, variables = NULL)"},{"path":"https://go-bayes.github.io/margot.sim/reference/analyse_shadow_effects.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compare data before and after shadowing — analyse_shadow_effects","text":"original Original data shadowed Shadowed data variables Variables compare","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/analyse_shadow_effects.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compare data before and after shadowing — analyse_shadow_effects","text":"Summary shadow effects","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/analyze_heterogeneity.html","id":null,"dir":"Reference","previous_headings":"","what":"Analyze heterogeneous effects from simulation output — analyze_heterogeneity","title":"Analyze heterogeneous effects from simulation output — analyze_heterogeneity","text":"Helper function analyze treatment effect heterogeneity margot_simulate output custom heterogeneity parameters.","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/analyze_heterogeneity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analyze heterogeneous effects from simulation output — analyze_heterogeneity","text":"","code":"analyze_heterogeneity(   data,   treatment_wave = 2,   outcome_wave = 3,   effect_modifiers = c(\"b1\", \"b2\", \"b3\", \"t0_y\", \"t0_a\") )"},{"path":"https://go-bayes.github.io/margot.sim/reference/analyze_heterogeneity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Analyze heterogeneous effects from simulation output — analyze_heterogeneity","text":"data Output margot_simulate treatment_wave Wave treatment analyze (default 2) outcome_wave Wave outcome analyze (default 3) effect_modifiers Character vector baseline variables test","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/analyze_heterogeneity.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Analyze heterogeneous effects from simulation output — analyze_heterogeneity","text":"Data frame heterogeneity statistics","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_baseline_selection.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply baseline selection — apply_baseline_selection","title":"Apply baseline selection — apply_baseline_selection","text":"Apply baseline selection","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_baseline_selection.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply baseline selection — apply_baseline_selection","text":"","code":"apply_baseline_selection(data, params)"},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_censoring_post_hoc.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply censoring to complete data — apply_censoring_post_hoc","title":"Apply censoring to complete data — apply_censoring_post_hoc","text":"Takes data generated margot_simulate applies censoring based stored censoring probabilities custom censoring function.","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_censoring_post_hoc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply censoring to complete data — apply_censoring_post_hoc","text":"","code":"apply_censoring_post_hoc(   complete_data,   censoring_type = c(\"built_in\", \"custom\"),   censoring_function = NULL,   apply_process_function = TRUE,   ... )"},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_censoring_post_hoc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply censoring to complete data — apply_censoring_post_hoc","text":"complete_data Data frame margot_simulate \"margot_meta\" attribute censoring_type Character: \"built_in\" uses stored probabilities, \"custom\" uses custom function censoring_function Function custom censoring (required censoring_type = \"custom\"). take data frame return censoring applied. apply_process_function Logical. Apply margot_process_longitudinal create -lost indicators? Default: TRUE ... Additional arguments passed margot_process_longitudinal custom censoring_function","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_censoring_post_hoc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply censoring to complete data — apply_censoring_post_hoc","text":"Data frame censoring applied indicators created. returned   object maintains \"margot_meta\" attribute additional censoring information.","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_censoring_post_hoc.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Apply censoring to complete data — apply_censoring_post_hoc","text":"## Censoring Logic subject censored wave k: 1. variables wave k onwards set NA 2. subject considered \"lost follow-\" point 3. future data observed subject ## -Lost Indicators `apply_process_function = TRUE`, function creates \"not_lost\" indicators: - `t0_not_lost_following_wave`: 1 subject data t1, 0 otherwise - `t1_not_lost_following_wave`: 1 subject data t2, 0 otherwise - ... indicators useful : - Inverse probability censoring weights (IPCW) - Determining -risk population wave - Creating proper denominators survival analyses ## Important Note Unlike implementations, function carry forward last observations. subject censored: - Future values set NA (carried forward) - represents true missingness due dropout - Methods like IPCW multiple imputation used analysis","code":""},{"path":[]},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_censoring_post_hoc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Apply censoring to complete data — apply_censoring_post_hoc","text":"","code":"# Generate complete data complete <- margot_simulate(n = 1000, waves = 3,                             censoring = list(rate = 0.2))  # Apply censoring  observed <- apply_censoring_post_hoc(complete)  # Check censoring rates table(observed$t0_not_lost_following_wave) #>  #>   0   1  #> 395 605  table(observed$t1_not_lost_following_wave) #>  #>   0   1  #> 518 482"},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_classical_error.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply classical measurement error — apply_classical_error","title":"Apply classical measurement error — apply_classical_error","text":"Apply classical measurement error","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_classical_error.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply classical measurement error — apply_classical_error","text":"","code":"apply_classical_error(data, params)"},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_correlated_error.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply correlated measurement error — apply_correlated_error","title":"Apply correlated measurement error — apply_correlated_error","text":"Apply correlated measurement error","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_correlated_error.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply correlated measurement error — apply_correlated_error","text":"","code":"apply_correlated_error(data, params)"},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_dichotomisation.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply dichotomisation — apply_dichotomisation","title":"Apply dichotomisation — apply_dichotomisation","text":"Apply dichotomisation","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_dichotomisation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply dichotomisation — apply_dichotomisation","text":"","code":"apply_dichotomisation(data, params)"},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_differential_error.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply differential measurement error — apply_differential_error","title":"Apply differential measurement error — apply_differential_error","text":"Apply differential measurement error","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_differential_error.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply differential measurement error — apply_differential_error","text":"","code":"apply_differential_error(data, params)"},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_mask.censoring_mask.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply censoring mask — apply_mask.censoring_mask","title":"Apply censoring mask — apply_mask.censoring_mask","text":"Apply censoring mask","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_mask.censoring_mask.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply censoring mask — apply_mask.censoring_mask","text":"","code":"# S3 method for class 'censoring_mask' apply_mask(data, mask, ...)"},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_mask.combined_mask.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply combined mask — apply_mask.combined_mask","title":"Apply combined mask — apply_mask.combined_mask","text":"Apply combined mask","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_mask.combined_mask.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply combined mask — apply_mask.combined_mask","text":"","code":"# S3 method for class 'combined_mask' apply_mask(data, mask, ...)"},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_mask.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply a mask to data — apply_mask","title":"Apply a mask to data — apply_mask","text":"Apply mask data","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_mask.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply a mask to data — apply_mask","text":"","code":"apply_mask(data, mask, ...)"},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_mask.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply a mask to data — apply_mask","text":"data Data frame apply mask mask mask object created create_mask() ... Additional arguments passed specific mask methods","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_mask.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply a mask to data — apply_mask","text":"Modified data frame","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_mask.item_missingness_mask.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply item-level missingness mask — apply_mask.item_missingness_mask","title":"Apply item-level missingness mask — apply_mask.item_missingness_mask","text":"Apply item-level missingness mask","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_mask.item_missingness_mask.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply item-level missingness mask — apply_mask.item_missingness_mask","text":"","code":"# S3 method for class 'item_missingness_mask' apply_mask(data, mask, ...)"},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_mask.measurement_error_mask.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply measurement error mask — apply_mask.measurement_error_mask","title":"Apply measurement error mask — apply_mask.measurement_error_mask","text":"Apply measurement error mask","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_mask.measurement_error_mask.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply measurement error mask — apply_mask.measurement_error_mask","text":"","code":"# S3 method for class 'measurement_error_mask' apply_mask(data, mask, ...)"},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_mask.positivity_mask.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply positivity violation mask — apply_mask.positivity_mask","title":"Apply positivity violation mask — apply_mask.positivity_mask","text":"Apply positivity violation mask","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_mask.positivity_mask.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply positivity violation mask — apply_mask.positivity_mask","text":"","code":"# S3 method for class 'positivity_mask' apply_mask(data, mask, ...)"},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_mask.selection_mask.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply selection bias mask — apply_mask.selection_mask","title":"Apply selection bias mask — apply_mask.selection_mask","text":"Apply selection bias mask","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_mask.selection_mask.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply selection bias mask — apply_mask.selection_mask","text":"","code":"# S3 method for class 'selection_mask' apply_mask(data, mask, ...)"},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_masks.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply multiple masks sequentially — apply_masks","title":"Apply multiple masks sequentially — apply_masks","text":"Apply multiple masks sequentially","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_masks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply multiple masks sequentially — apply_masks","text":"","code":"apply_masks(data, masks, verbose = FALSE)"},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_masks.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply multiple masks sequentially — apply_masks","text":"data Data frame masks List mask objects verbose Logical, print progress?","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_masks.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply multiple masks sequentially — apply_masks","text":"Data frame masks applied","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_misclassification.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply misclassification to binary variables — apply_misclassification","title":"Apply misclassification to binary variables — apply_misclassification","text":"Apply misclassification binary variables","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_misclassification.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply misclassification to binary variables — apply_misclassification","text":"","code":"apply_misclassification(data, params)"},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_shadow.censoring_shadow.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply censoring shadow — apply_shadow.censoring_shadow","title":"Apply censoring shadow — apply_shadow.censoring_shadow","text":"Apply censoring shadow","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_shadow.censoring_shadow.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply censoring shadow — apply_shadow.censoring_shadow","text":"","code":"# S3 method for class 'censoring_shadow' apply_shadow(data, shadow, ...)"},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_shadow.censoring_shadow.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply censoring shadow — apply_shadow.censoring_shadow","text":"data Data frame apply shadow shadow censoring shadow object created create_shadow() ... Additional arguments passed apply_censoring_post_hoc","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_shadow.censoring_shadow.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply censoring shadow — apply_shadow.censoring_shadow","text":"Modified data frame censoring applied","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_shadow.combined_shadow.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply combined shadow — apply_shadow.combined_shadow","title":"Apply combined shadow — apply_shadow.combined_shadow","text":"Apply combined shadow","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_shadow.combined_shadow.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply combined shadow — apply_shadow.combined_shadow","text":"","code":"# S3 method for class 'combined_shadow' apply_shadow(data, shadow, ...)"},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_shadow.combined_shadow.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply combined shadow — apply_shadow.combined_shadow","text":"data Data frame apply shadow shadow combined shadow object created combine_shadows() ... Additional arguments passed apply_shadows","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_shadow.combined_shadow.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply combined shadow — apply_shadow.combined_shadow","text":"Modified data frame component shadows applied","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_shadow.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply a shadow to data — apply_shadow","title":"Apply a shadow to data — apply_shadow","text":"Apply shadow data","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_shadow.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply a shadow to data — apply_shadow","text":"","code":"apply_shadow(data, shadow, ...)"},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_shadow.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply a shadow to data — apply_shadow","text":"data Data frame apply shadow shadow shadow object created create_shadow() ... Additional arguments passed specific shadow methods","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_shadow.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply a shadow to data — apply_shadow","text":"Modified data frame","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_shadow.item_missingness_shadow.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply item-level missingness shadow — apply_shadow.item_missingness_shadow","title":"Apply item-level missingness shadow — apply_shadow.item_missingness_shadow","text":"Apply item-level missingness shadow","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_shadow.item_missingness_shadow.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply item-level missingness shadow — apply_shadow.item_missingness_shadow","text":"","code":"# S3 method for class 'item_missingness_shadow' apply_shadow(data, shadow, ...)"},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_shadow.item_missingness_shadow.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply item-level missingness shadow — apply_shadow.item_missingness_shadow","text":"data Data frame apply shadow shadow item missingness shadow object created create_item_missingness_shadow() ... Additional arguments (currently unused)","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_shadow.item_missingness_shadow.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply item-level missingness shadow — apply_shadow.item_missingness_shadow","text":"Modified data frame missing values introduced","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_shadow.measurement_error_shadow.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply measurement error shadow — apply_shadow.measurement_error_shadow","title":"Apply measurement error shadow — apply_shadow.measurement_error_shadow","text":"Apply measurement error shadow","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_shadow.measurement_error_shadow.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply measurement error shadow — apply_shadow.measurement_error_shadow","text":"","code":"# S3 method for class 'measurement_error_shadow' apply_shadow(data, shadow, ...)"},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_shadow.measurement_error_shadow.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply measurement error shadow — apply_shadow.measurement_error_shadow","text":"data Data frame apply shadow shadow measurement error shadow object created create_shadow() ... Additional arguments (currently unused)","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_shadow.measurement_error_shadow.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply measurement error shadow — apply_shadow.measurement_error_shadow","text":"Modified data frame measurement error applied","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_shadow.positivity_shadow.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply positivity violation shadow — apply_shadow.positivity_shadow","title":"Apply positivity violation shadow — apply_shadow.positivity_shadow","text":"Apply positivity violation shadow","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_shadow.positivity_shadow.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply positivity violation shadow — apply_shadow.positivity_shadow","text":"","code":"# S3 method for class 'positivity_shadow' apply_shadow(data, shadow, ...)"},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_shadow.positivity_shadow.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply positivity violation shadow — apply_shadow.positivity_shadow","text":"data Data frame apply shadow shadow positivity shadow object created create_positivity_shadow() ... Additional arguments (currently unused)","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_shadow.positivity_shadow.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply positivity violation shadow — apply_shadow.positivity_shadow","text":"Filtered data frame positivity violations removed","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_shadow.selection_shadow.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply selection bias shadow — apply_shadow.selection_shadow","title":"Apply selection bias shadow — apply_shadow.selection_shadow","text":"Apply selection bias shadow","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_shadow.selection_shadow.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply selection bias shadow — apply_shadow.selection_shadow","text":"","code":"# S3 method for class 'selection_shadow' apply_shadow(data, shadow, ...)"},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_shadow.selection_shadow.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply selection bias shadow — apply_shadow.selection_shadow","text":"data Data frame apply shadow shadow selection shadow object created create_shadow() ... Additional arguments (currently unused)","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_shadow.selection_shadow.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply selection bias shadow — apply_shadow.selection_shadow","text":"Subset data frame selection bias applied","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_shadows.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply multiple shadows sequentially — apply_shadows","title":"Apply multiple shadows sequentially — apply_shadows","text":"Apply multiple shadows sequentially","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_shadows.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply multiple shadows sequentially — apply_shadows","text":"","code":"apply_shadows(data, shadows, verbose = FALSE)"},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_shadows.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply multiple shadows sequentially — apply_shadows","text":"data Data frame shadows List shadow objects verbose Logical, print progress?","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/apply_shadows.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply multiple shadows sequentially — apply_shadows","text":"Data frame shadows applied","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/calculate_performance_metrics.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate performance metrics from MC results — calculate_performance_metrics","title":"Calculate performance metrics from MC results — calculate_performance_metrics","text":"Calculate performance metrics MC results","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/calculate_performance_metrics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate performance metrics from MC results — calculate_performance_metrics","text":"","code":"calculate_performance_metrics(results_df)"},{"path":"https://go-bayes.github.io/margot.sim/reference/check_distribution.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if a variable follows a specified distribution — check_distribution","title":"Check if a variable follows a specified distribution — check_distribution","text":"Check variable follows specified distribution","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/check_distribution.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if a variable follows a specified distribution — check_distribution","text":"","code":"check_distribution(x, dist, plot = TRUE)"},{"path":"https://go-bayes.github.io/margot.sim/reference/check_distribution.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if a variable follows a specified distribution — check_distribution","text":"x Vector values dist Distribution specification family name plot Logical, create diagnostic plot?","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/check_distribution.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if a variable follows a specified distribution — check_distribution","text":"List test results","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/check_positive_definite.html","id":null,"dir":"Reference","previous_headings":"","what":"Check and fix positive definiteness of a covariance matrix — check_positive_definite","title":"Check and fix positive definiteness of a covariance matrix — check_positive_definite","text":"Check fix positive definiteness covariance matrix","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/check_positive_definite.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check and fix positive definiteness of a covariance matrix — check_positive_definite","text":"","code":"check_positive_definite(mat, tol = 1e-08)"},{"path":"https://go-bayes.github.io/margot.sim/reference/check_positivity.html","id":null,"dir":"Reference","previous_headings":"","what":"Check positivity of treatment probabilities — check_positivity","title":"Check positivity of treatment probabilities — check_positivity","text":"Check positivity treatment probabilities","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/check_positivity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check positivity of treatment probabilities — check_positivity","text":"","code":"check_positivity(treatment_probs, trt_name, time, min_prob = 0.01)"},{"path":"https://go-bayes.github.io/margot.sim/reference/combine_masks.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a complex mask combining multiple distortions — combine_masks","title":"Create a complex mask combining multiple distortions — combine_masks","text":"Create complex mask combining multiple distortions","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/combine_masks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a complex mask combining multiple distortions — combine_masks","text":"","code":"combine_masks(..., name = \"combined_mask\")"},{"path":"https://go-bayes.github.io/margot.sim/reference/combine_masks.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a complex mask combining multiple distortions — combine_masks","text":"... Individual mask objects combine name Name combined mask","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/combine_masks.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a complex mask combining multiple distortions — combine_masks","text":"composite mask object","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/combine_shadows.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a complex shadow combining multiple distortions — combine_shadows","title":"Create a complex shadow combining multiple distortions — combine_shadows","text":"Create complex shadow combining multiple distortions","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/combine_shadows.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a complex shadow combining multiple distortions — combine_shadows","text":"","code":"combine_shadows(..., name = \"combined_shadow\")"},{"path":"https://go-bayes.github.io/margot.sim/reference/combine_shadows.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a complex shadow combining multiple distortions — combine_shadows","text":"... Individual shadow objects combine name Name combined shadow","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/combine_shadows.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a complex shadow combining multiple distortions — combine_shadows","text":"composite shadow object","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/compare_mc_results.html","id":null,"dir":"Reference","previous_headings":"","what":"Compare multiple Monte Carlo results — compare_mc_results","title":"Compare multiple Monte Carlo results — compare_mc_results","text":"Compare multiple Monte Carlo results","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/compare_mc_results.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compare multiple Monte Carlo results — compare_mc_results","text":"","code":"compare_mc_results(..., names = NULL)"},{"path":"https://go-bayes.github.io/margot.sim/reference/compare_mc_results.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compare multiple Monte Carlo results — compare_mc_results","text":"... Multiple margot_mc_results objects names Optional names result set","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/compare_mc_results.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compare multiple Monte Carlo results — compare_mc_results","text":"Comparison object","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/compute_true_effects.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute true causal effects from simulated data — compute_true_effects","title":"Compute true causal effects from simulated data — compute_true_effects","text":"Compute true causal effects simulated data","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/compute_true_effects.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute true causal effects from simulated data — compute_true_effects","text":"","code":"compute_true_effects(data_list, outcome_name, estimand = \"ATE\")"},{"path":"https://go-bayes.github.io/margot.sim/reference/create_distribution.html","id":null,"dir":"Reference","previous_headings":"","what":"Flexible Distribution Specifications for margot — create_distribution","title":"Flexible Distribution Specifications for margot — create_distribution","text":"file implements system specifying custom distributions data generating process, allowing skewed, heavy-tailed, non-normal distributions. Create distribution specification","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/create_distribution.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Flexible Distribution Specifications for margot — create_distribution","text":"","code":"create_distribution(   family,   params = list(),   link = NULL,   inverse_link = NULL,   name = NULL )"},{"path":"https://go-bayes.github.io/margot.sim/reference/create_distribution.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Flexible Distribution Specifications for margot — create_distribution","text":"family Distribution family name custom function params Named list distribution parameters link Link function transforming linear predictor scale inverse_link Inverse link function name Optional name distribution","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/create_distribution.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Flexible Distribution Specifications for margot — create_distribution","text":"Distribution specification object","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/create_distribution.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Flexible Distribution Specifications for margot — create_distribution","text":"","code":"# Normal distribution dist_normal <- create_distribution(\"normal\", params = list(sd = 1))  # Log-normal via transformation dist_lognormal <- create_distribution(   \"normal\",   params = list(sd = 0.5),   inverse_link = exp )  # Beta distribution for bounded variables dist_beta <- create_distribution(   \"beta\",   params = list(shape1 = 2, shape2 = 5) )"},{"path":"https://go-bayes.github.io/margot.sim/reference/create_distribution_diagnostic_plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Create diagnostic plot for distribution — create_distribution_diagnostic_plot","title":"Create diagnostic plot for distribution — create_distribution_diagnostic_plot","text":"Create diagnostic plot distribution","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/create_distribution_diagnostic_plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create diagnostic plot for distribution — create_distribution_diagnostic_plot","text":"","code":"create_distribution_diagnostic_plot(x, family)"},{"path":"https://go-bayes.github.io/margot.sim/reference/create_distribution_set.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a set of distributions for different variable types — create_distribution_set","title":"Create a set of distributions for different variable types — create_distribution_set","text":"Create set distributions different variable types","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/create_distribution_set.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a set of distributions for different variable types — create_distribution_set","text":"","code":"create_distribution_set(   baseline = NULL,   exposure = NULL,   outcome = NULL,   confounder = NULL,   error = NULL )"},{"path":"https://go-bayes.github.io/margot.sim/reference/create_distribution_set.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a set of distributions for different variable types — create_distribution_set","text":"baseline Distribution baseline covariates exposure Distribution exposure/treatment outcome Distribution outcome confounder Distribution time-varying confounders error Distribution error terms","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/create_distribution_set.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a set of distributions for different variable types — create_distribution_set","text":"Distribution set object","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/create_item_missingness_mask.html","id":null,"dir":"Reference","previous_headings":"","what":"Create item-level missingness mask — create_item_missingness_mask","title":"Create item-level missingness mask — create_item_missingness_mask","text":"Create item-level missingness mask","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/create_item_missingness_mask.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create item-level missingness mask — create_item_missingness_mask","text":"","code":"create_item_missingness_mask(   variables,   missing_rate,   missing_mechanism = c(\"MCAR\", \"MAR\", \"MNAR\"),   dependent_vars = NULL,   name = \"item_missingness\" )"},{"path":"https://go-bayes.github.io/margot.sim/reference/create_item_missingness_mask.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create item-level missingness mask — create_item_missingness_mask","text":"variables Character vector variables apply missingness missing_rate Numeric. Overall missing rate (0-1) missing_mechanism Character. One \"MCAR\", \"MAR\", \"MNAR\" dependent_vars Character vector. Variables influence missingness (MAR/MNAR) name Optional name mask","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/create_item_missingness_mask.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create item-level missingness mask — create_item_missingness_mask","text":"Item missingness mask object","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/create_item_missingness_shadow.html","id":null,"dir":"Reference","previous_headings":"","what":"Create item-level missingness shadow — create_item_missingness_shadow","title":"Create item-level missingness shadow — create_item_missingness_shadow","text":"Create item-level missingness shadow","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/create_item_missingness_shadow.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create item-level missingness shadow — create_item_missingness_shadow","text":"","code":"create_item_missingness_shadow(   variables,   missing_rate,   missing_mechanism = c(\"MCAR\", \"MAR\", \"MNAR\"),   dependent_vars = NULL,   name = \"item_missingness\" )"},{"path":"https://go-bayes.github.io/margot.sim/reference/create_item_missingness_shadow.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create item-level missingness shadow — create_item_missingness_shadow","text":"variables Character vector variables apply missingness missing_rate Numeric. Overall missing rate (0-1) missing_mechanism Character. One \"MCAR\", \"MAR\", \"MNAR\" dependent_vars Character vector. Variables influence missingness (MAR/MNAR) name Optional name shadow","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/create_item_missingness_shadow.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create item-level missingness shadow — create_item_missingness_shadow","text":"Item missingness shadow object","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/create_mask.html","id":null,"dir":"Reference","previous_headings":"","what":"Masking Framework for margot — create_mask","title":"Masking Framework for margot — create_mask","text":"file implements unified masking framework applying various observational distortions simulated data, including censoring, measurement error, selection bias. Create mask object","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/create_mask.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Masking Framework for margot — create_mask","text":"","code":"create_mask(   type = c(\"censoring\", \"measurement_error\", \"selection\", \"item_missingness\",     \"positivity\"),   params = list(),   name = NULL )"},{"path":"https://go-bayes.github.io/margot.sim/reference/create_mask.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Masking Framework for margot — create_mask","text":"type Character string specifying mask type: \"censoring\", \"measurement_error\", \"selection\" params List parameters specific mask type name Optional name mask","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/create_mask.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Masking Framework for margot — create_mask","text":"mask object class attributes method dispatch","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/create_mask.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Masking Framework for margot — create_mask","text":"","code":"# Create a measurement error mask mask <- create_mask(   type = \"measurement_error\",   params = list(     variables = c(\"t1_l\", \"t2_l\"),     error_type = \"classical\",     sigma = 0.5   ) )"},{"path":"https://go-bayes.github.io/margot.sim/reference/create_positivity_mask.html","id":null,"dir":"Reference","previous_headings":"","what":"Create positivity violation mask — create_positivity_mask","title":"Create positivity violation mask — create_positivity_mask","text":"Create positivity violation mask","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/create_positivity_mask.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create positivity violation mask — create_positivity_mask","text":"","code":"create_positivity_mask(exposure_var, filter_fn, name = \"positivity_filter\")"},{"path":"https://go-bayes.github.io/margot.sim/reference/create_positivity_mask.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create positivity violation mask — create_positivity_mask","text":"exposure_var Character. Name exposure variable filter filter_fn Function takes data returns logical vector valid rows name Optional name mask","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/create_positivity_mask.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create positivity violation mask — create_positivity_mask","text":"Positivity mask object","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/create_positivity_shadow.html","id":null,"dir":"Reference","previous_headings":"","what":"Create positivity violation shadow — create_positivity_shadow","title":"Create positivity violation shadow — create_positivity_shadow","text":"Create positivity violation shadow","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/create_positivity_shadow.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create positivity violation shadow — create_positivity_shadow","text":"","code":"create_positivity_shadow(exposure_var, filter_fn, name = \"positivity_filter\")"},{"path":"https://go-bayes.github.io/margot.sim/reference/create_positivity_shadow.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create positivity violation shadow — create_positivity_shadow","text":"exposure_var Character. Name exposure variable filter filter_fn Function takes data returns logical vector valid rows name Optional name shadow","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/create_positivity_shadow.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create positivity violation shadow — create_positivity_shadow","text":"Positivity shadow object","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/create_scm_diagram.html","id":null,"dir":"Reference","previous_headings":"","what":"Create SCM diagram — create_scm_diagram","title":"Create SCM diagram — create_scm_diagram","text":"Creates visual representation structural causal model DAG. Can output various formats including text, mermaid, DOT.","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/create_scm_diagram.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create SCM diagram — create_scm_diagram","text":"","code":"create_scm_diagram(   format = c(\"text\", \"mermaid\", \"dot\"),   waves = 3,   show_equations = FALSE,   highlight_path = NULL )"},{"path":"https://go-bayes.github.io/margot.sim/reference/create_scm_diagram.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create SCM diagram — create_scm_diagram","text":"format Output format: \"text\", \"mermaid\", \"dot\" waves Number waves show show_equations Include structural equations? highlight_path Optional path highlight (e.g., c(\"A1\", \"Y2\"))","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/create_scm_diagram.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create SCM diagram — create_scm_diagram","text":"Character string diagram specification","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/create_shadow.html","id":null,"dir":"Reference","previous_headings":"","what":"Shadowing Framework for margot — create_shadow","title":"Shadowing Framework for margot — create_shadow","text":"file implements unified shadowing framework applying various observational distortions simulated data, including censoring, measurement error, selection bias. Create shadow object","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/create_shadow.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Shadowing Framework for margot — create_shadow","text":"","code":"create_shadow(   type = c(\"censoring\", \"measurement_error\", \"selection\", \"item_missingness\",     \"positivity\"),   params = list(),   name = NULL )"},{"path":"https://go-bayes.github.io/margot.sim/reference/create_shadow.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Shadowing Framework for margot — create_shadow","text":"type Character string specifying shadow type: \"censoring\", \"measurement_error\", \"selection\" params List parameters specific shadow type. measurement_error type: - variables: Character vector variable names apply error - error_type: \"classical\", \"differential\", \"dichotomise\", \"correlated\", \"misclassification\" - \"classical\": sigma (numeric) error standard deviation - \"misclassification\": sensitivity specificity (numeric 0-1) name Optional name shadow","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/create_shadow.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Shadowing Framework for margot — create_shadow","text":"shadow object class attributes method dispatch","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/create_shadow.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Shadowing Framework for margot — create_shadow","text":"","code":"# Create a classical measurement error shadow shadow <- create_shadow(   type = \"measurement_error\",   params = list(     variables = c(\"t1_l\", \"t2_l\"),     error_type = \"classical\",     sigma = 0.5   ) )  # Create a misclassification shadow for binary variables misclass_shadow <- create_shadow(   type = \"measurement_error\",   params = list(     variables = \"t1_a\",     error_type = \"misclassification\",     sensitivity = 0.85,  # 85% of true positives correctly classified     specificity = 0.90   # 90% of true negatives correctly classified   ) )"},{"path":"https://go-bayes.github.io/margot.sim/reference/diagnose_masking.html","id":null,"dir":"Reference","previous_headings":"","what":"Quick diagnostic for a masked dataset — diagnose_masking","title":"Quick diagnostic for a masked dataset — diagnose_masking","text":"Quick diagnostic masked dataset","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/diagnose_masking.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Quick diagnostic for a masked dataset — diagnose_masking","text":"","code":"diagnose_masking(original, masked, key_vars = NULL)"},{"path":"https://go-bayes.github.io/margot.sim/reference/diagnose_masking.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Quick diagnostic for a masked dataset — diagnose_masking","text":"original Original data masked Masked data key_vars Variables focus ","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/diagnose_shadowing.html","id":null,"dir":"Reference","previous_headings":"","what":"Quick diagnostic for a shadowed dataset — diagnose_shadowing","title":"Quick diagnostic for a shadowed dataset — diagnose_shadowing","text":"Quick diagnostic shadowed dataset","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/diagnose_shadowing.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Quick diagnostic for a shadowed dataset — diagnose_shadowing","text":"","code":"diagnose_shadowing(original, shadowed, key_vars = NULL)"},{"path":"https://go-bayes.github.io/margot.sim/reference/diagnose_shadowing.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Quick diagnostic for a shadowed dataset — diagnose_shadowing","text":"original Original data shadowed Shadowed data key_vars Variables focus ","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/dot-default_sim_params.html","id":null,"dir":"Reference","previous_headings":"","what":"Default simulation parameter values — .default_sim_params","title":"Default simulation parameter values — .default_sim_params","text":"Default simulation parameter values","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/dot-default_sim_params.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Default simulation parameter values — .default_sim_params","text":"","code":".default_sim_params()"},{"path":"https://go-bayes.github.io/margot.sim/reference/example_basic_simulation.html","id":null,"dir":"Reference","previous_headings":"","what":"Example: Basic simulation — example_basic_simulation","title":"Example: Basic simulation — example_basic_simulation","text":"Example: Basic simulation","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/example_basic_simulation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example: Basic simulation — example_basic_simulation","text":"","code":"example_basic_simulation()"},{"path":"https://go-bayes.github.io/margot.sim/reference/example_causal_censoring_bias.html","id":null,"dir":"Reference","previous_headings":"","what":"Example: Causal effects under censoring — example_causal_censoring_bias","title":"Example: Causal effects under censoring — example_causal_censoring_bias","text":"Example: Causal effects censoring","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/example_causal_censoring_bias.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example: Causal effects under censoring — example_causal_censoring_bias","text":"","code":"example_causal_censoring_bias()"},{"path":"https://go-bayes.github.io/margot.sim/reference/example_censoring_mechanisms.html","id":null,"dir":"Reference","previous_headings":"","what":"Example: Different censoring mechanisms — example_censoring_mechanisms","title":"Example: Different censoring mechanisms — example_censoring_mechanisms","text":"Example: Different censoring mechanisms","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/example_censoring_mechanisms.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example: Different censoring mechanisms — example_censoring_mechanisms","text":"","code":"example_censoring_mechanisms()"},{"path":"https://go-bayes.github.io/margot.sim/reference/example_complete_workflow.html","id":null,"dir":"Reference","previous_headings":"","what":"Integrated Examples for margot Extensions — example_complete_workflow","title":"Integrated Examples for margot Extensions — example_complete_workflow","text":"file demonstrates complete workflows using shadowing framework, Monte Carlo simulations, flexible distributions together. Complete workflow: Evaluating TMLE complex shadowing example demonstrates: 1. Setting realistic DGP non-normal distributions 2. Applying multiple types shadows (censoring + measurement error) 3. Evaluating estimator (TMLE) via Monte Carlo 4. Comparing performance different shadowing scenarios Comprehensive example showing: - Sampling weights create target population - Multiple interventions causal contrasts - Post-hoc censoring creating observed data - Bias analysis censoring","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/example_complete_workflow.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Integrated Examples for margot Extensions — example_complete_workflow","text":"","code":"example_complete_workflow()  example_complete_workflow()"},{"path":"https://go-bayes.github.io/margot.sim/reference/example_complete_workflow.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Integrated Examples for margot Extensions — example_complete_workflow","text":"margot_causal_sim object results","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/example_dynamic_interventions.html","id":null,"dir":"Reference","previous_headings":"","what":"Example: Dynamic treatment strategies — example_dynamic_interventions","title":"Example: Dynamic treatment strategies — example_dynamic_interventions","text":"Example: Dynamic treatment strategies","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/example_dynamic_interventions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example: Dynamic treatment strategies — example_dynamic_interventions","text":"","code":"example_dynamic_interventions()"},{"path":"https://go-bayes.github.io/margot.sim/reference/example_flexible_distributions.html","id":null,"dir":"Reference","previous_headings":"","what":"Example: Simulate with different distributions — example_flexible_distributions","title":"Example: Simulate with different distributions — example_flexible_distributions","text":"Example: Simulate different distributions","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/example_flexible_distributions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example: Simulate with different distributions — example_flexible_distributions","text":"","code":"example_flexible_distributions()"},{"path":"https://go-bayes.github.io/margot.sim/reference/example_heterogeneous_effects.html","id":null,"dir":"Reference","previous_headings":"","what":"Example: Heterogeneous Treatment Effects by Baseline Characteristics — example_heterogeneous_effects","title":"Example: Heterogeneous Treatment Effects by Baseline Characteristics — example_heterogeneous_effects","text":"Demonstrates simulate analyze treatment effect heterogeneity baseline covariates, baseline outcome, baseline exposure.","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/example_heterogeneous_effects.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example: Heterogeneous Treatment Effects by Baseline Characteristics — example_heterogeneous_effects","text":"","code":"example_heterogeneous_effects(   n = 2000,   waves = 2,   seed = 2025,   plot = TRUE,   verbose = TRUE )"},{"path":"https://go-bayes.github.io/margot.sim/reference/example_heterogeneous_effects.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Example: Heterogeneous Treatment Effects by Baseline Characteristics — example_heterogeneous_effects","text":"n Sample size (default 2000) waves Number waves (default 2) seed Random seed (default 2025) plot Logical, whether create diagnostic plots (default TRUE) verbose Logical, whether print results (default TRUE)","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/example_heterogeneous_effects.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Example: Heterogeneous Treatment Effects by Baseline Characteristics — example_heterogeneous_effects","text":"List containing simulated data heterogeneity analysis","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/example_heterogeneous_effects.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Example: Heterogeneous Treatment Effects by Baseline Characteristics — example_heterogeneous_effects","text":"","code":"if (FALSE) { # \\dontrun{ # Run heterogeneity analysis het_results <- example_heterogeneous_effects()  # Access the data dat <- het_results$data  # See heterogeneity by b1 het_results$het_by_b1 } # }"},{"path":"https://go-bayes.github.io/margot.sim/reference/example_long_format.html","id":null,"dir":"Reference","previous_headings":"","what":"Example: Long format data — example_long_format","title":"Example: Long format data — example_long_format","text":"Example: Long format data","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/example_long_format.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example: Long format data — example_long_format","text":"","code":"example_long_format()"},{"path":"https://go-bayes.github.io/margot.sim/reference/example_masks.html","id":null,"dir":"Reference","previous_headings":"","what":"Example: Create and apply various masks — example_masks","title":"Example: Create and apply various masks — example_masks","text":"Example: Create apply various masks","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/example_masks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example: Create and apply various masks — example_masks","text":"","code":"example_masks()"},{"path":"https://go-bayes.github.io/margot.sim/reference/example_mc_measurement_error.html","id":null,"dir":"Reference","previous_headings":"","what":"Example: Evaluate estimator under measurement error — example_mc_measurement_error","title":"Example: Evaluate estimator under measurement error — example_mc_measurement_error","text":"Example: Evaluate estimator measurement error","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/example_mc_measurement_error.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example: Evaluate estimator under measurement error — example_mc_measurement_error","text":"","code":"example_mc_measurement_error()"},{"path":"https://go-bayes.github.io/margot.sim/reference/example_measurement_error_comparison.html","id":null,"dir":"Reference","previous_headings":"","what":"Practical example: Impact of measurement error on different estimators — example_measurement_error_comparison","title":"Practical example: Impact of measurement error on different estimators — example_measurement_error_comparison","text":"Compares different estimators (OLS, IPW, G-computation) perform increasing levels measurement error","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/example_measurement_error_comparison.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Practical example: Impact of measurement error on different estimators — example_measurement_error_comparison","text":"","code":"example_measurement_error_comparison()"},{"path":"https://go-bayes.github.io/margot.sim/reference/example_multiple_outcomes.html","id":null,"dir":"Reference","previous_headings":"","what":"Example: Multiple correlated outcomes — example_multiple_outcomes","title":"Example: Multiple correlated outcomes — example_multiple_outcomes","text":"Example: Multiple correlated outcomes","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/example_multiple_outcomes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example: Multiple correlated outcomes — example_multiple_outcomes","text":"","code":"example_multiple_outcomes()"},{"path":"https://go-bayes.github.io/margot.sim/reference/example_sampling_weights.html","id":null,"dir":"Reference","previous_headings":"","what":"Example: Sampling weights — example_sampling_weights","title":"Example: Sampling weights — example_sampling_weights","text":"Example: Sampling weights","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/example_sampling_weights.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example: Sampling weights — example_sampling_weights","text":"","code":"example_sampling_weights()"},{"path":"https://go-bayes.github.io/margot.sim/reference/example_shadows.html","id":null,"dir":"Reference","previous_headings":"","what":"Example: Create and apply various shadows — example_shadows","title":"Example: Create and apply various shadows — example_shadows","text":"Example: Create apply various shadows","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/example_shadows.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example: Create and apply various shadows — example_shadows","text":"","code":"example_shadows()"},{"path":"https://go-bayes.github.io/margot.sim/reference/example_test_censoring.html","id":null,"dir":"Reference","previous_headings":"","what":"Example: Test censoring indicators — example_test_censoring","title":"Example: Test censoring indicators — example_test_censoring","text":"Demonstrates censoring indicators work validates censoring logic showing future data NA not_lost indicator 0.","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/example_test_censoring.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example: Test censoring indicators — example_test_censoring","text":"","code":"example_test_censoring()"},{"path":"https://go-bayes.github.io/margot.sim/reference/example_test_censoring.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Example: Test censoring indicators — example_test_censoring","text":"List original censored data","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/generate_from_dist.custom_distribution.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate from custom distribution function — generate_from_dist.custom_distribution","title":"Generate from custom distribution function — generate_from_dist.custom_distribution","text":"Generate custom distribution function","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/generate_from_dist.custom_distribution.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate from custom distribution function — generate_from_dist.custom_distribution","text":"","code":"# S3 method for class 'custom_distribution' generate_from_dist(dist, n, linear_predictor = NULL)"},{"path":"https://go-bayes.github.io/margot.sim/reference/generate_from_dist.custom_distribution.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate from custom distribution function — generate_from_dist.custom_distribution","text":"dist custom distribution object n Number values generate linear_predictor Optional linear predictor values","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/generate_from_dist.custom_distribution.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate from custom distribution function — generate_from_dist.custom_distribution","text":"Vector generated values","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/generate_from_dist.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate values from a distribution specification — generate_from_dist","title":"Generate values from a distribution specification — generate_from_dist","text":"Generate values distribution specification","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/generate_from_dist.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate values from a distribution specification — generate_from_dist","text":"","code":"generate_from_dist(dist, n, linear_predictor = NULL)"},{"path":"https://go-bayes.github.io/margot.sim/reference/generate_from_dist.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate values from a distribution specification — generate_from_dist","text":"dist Distribution specification n Number values generate linear_predictor Optional linear predictor values","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/generate_from_dist.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate values from a distribution specification — generate_from_dist","text":"Vector generated values","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/generate_from_dist.parametric_distribution.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate from parametric distribution — generate_from_dist.parametric_distribution","title":"Generate from parametric distribution — generate_from_dist.parametric_distribution","text":"Generate parametric distribution","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/generate_from_dist.parametric_distribution.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate from parametric distribution — generate_from_dist.parametric_distribution","text":"","code":"# S3 method for class 'parametric_distribution' generate_from_dist(dist, n, linear_predictor = NULL)"},{"path":"https://go-bayes.github.io/margot.sim/reference/generate_from_dist.parametric_distribution.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate from parametric distribution — generate_from_dist.parametric_distribution","text":"dist parametric distribution object n Number values generate linear_predictor Optional linear predictor values","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/generate_from_dist.parametric_distribution.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate from parametric distribution — generate_from_dist.parametric_distribution","text":"Vector generated values","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/get_default_links.html","id":null,"dir":"Reference","previous_headings":"","what":"Get default link functions for distribution families — get_default_links","title":"Get default link functions for distribution families — get_default_links","text":"Get default link functions distribution families","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/get_default_links.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get default link functions for distribution families — get_default_links","text":"","code":"get_default_links(family)"},{"path":"https://go-bayes.github.io/margot.sim/reference/get_time_index.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract time index from variable name — get_time_index","title":"Extract time index from variable name — get_time_index","text":"Extract time index variable name","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/get_time_index.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract time index from variable name — get_time_index","text":"","code":"get_time_index(var_name)"},{"path":"https://go-bayes.github.io/margot.sim/reference/hello.html","id":null,"dir":"Reference","previous_headings":"","what":"Hello, World! — hello","title":"Hello, World! — hello","text":"Prints 'Hello, world!'.","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/hello.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Hello, World! — hello","text":"","code":"hello()"},{"path":"https://go-bayes.github.io/margot.sim/reference/hello.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Hello, World! — hello","text":"","code":"hello() #> Error in hello(): could not find function \"hello\""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_convert_format.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert margot data between wide and long formats — margot_convert_format","title":"Convert margot data between wide and long formats — margot_convert_format","text":"Convert margot data wide long formats","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_convert_format.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert margot data between wide and long formats — margot_convert_format","text":"","code":"margot_convert_format(data, format = c(\"wide\", \"long\"))"},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_convert_format.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert margot data between wide and long formats — margot_convert_format","text":"data Data margot_simulate format Target format: \"wide\" \"long\"","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_convert_format.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert margot data between wide and long formats — margot_convert_format","text":"Data requested format metadata preserved","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_distributions.html","id":null,"dir":"Reference","previous_headings":"","what":"Common distribution specifications — margot_distributions","title":"Common distribution specifications — margot_distributions","text":"Common distribution specifications","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_distributions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Common distribution specifications — margot_distributions","text":"","code":"margot_distributions"},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_distributions.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Common distribution specifications — margot_distributions","text":"object class list length 9.","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_extract_var.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract variable at specific time point — margot_extract_var","title":"Extract variable at specific time point — margot_extract_var","text":"Extract variable specific time point","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_extract_var.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract variable at specific time point — margot_extract_var","text":"","code":"margot_extract_var(data, var, time)"},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_extract_var.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract variable at specific time point — margot_extract_var","text":"data Wide format data margot_simulate var Variable name (without time prefix) time Time point","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_extract_var.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract variable at specific time point — margot_extract_var","text":"Vector values","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_missingness_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Get summary of missingness patterns — margot_missingness_summary","title":"Get summary of missingness patterns — margot_missingness_summary","text":"Get summary missingness patterns","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_missingness_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get summary of missingness patterns — margot_missingness_summary","text":"","code":"margot_missingness_summary(data, vars = NULL)"},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_missingness_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get summary of missingness patterns — margot_missingness_summary","text":"data Data margot_simulate vars Variables check (defaults )","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_missingness_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get summary of missingness patterns — margot_missingness_summary","text":"Data frame missingness summary","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_monte_carlo.html","id":null,"dir":"Reference","previous_headings":"","what":"Monte Carlo Framework for margot — margot_monte_carlo","title":"Monte Carlo Framework for margot — margot_monte_carlo","text":"file implements Monte Carlo simulation capabilities evaluating statistical estimators various shadowing conditions. Run Monte Carlo simulation evaluate estimator performance","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_monte_carlo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Monte Carlo Framework for margot — margot_monte_carlo","text":"","code":"margot_monte_carlo(   n_reps = 500,   n_per_rep = 1000,   dgp_params = list(),   shadows = list(),   estimator_fn = NULL,   truth_fn = NULL,   extract_fn = NULL,   parallel = FALSE,   n_cores = NULL,   seed = NULL,   verbose = TRUE,   save_data = FALSE )"},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_monte_carlo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Monte Carlo Framework for margot — margot_monte_carlo","text":"n_reps Number Monte Carlo replications n_per_rep Sample size per replication dgp_params List parameters margot_simulate_causal() shadows List shadow objects apply data estimator_fn Function takes data returns estimate(s) truth_fn Optional function compute true parameter value extract_fn Optional function extract additional information parallel Logical, use parallel processing? n_cores Number cores parallel processing seed Random seed verbose Print progress? save_data Logical, save datasets replication?","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_monte_carlo.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Monte Carlo Framework for margot — margot_monte_carlo","text":"Object class \"margot_mc_results\" simulation results","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_monte_carlo.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Monte Carlo Framework for margot — margot_monte_carlo","text":"","code":"if (FALSE) { # \\dontrun{ # Define estimator my_estimator <- function(data) {   fit <- lm(t3_y ~ t2_a + t1_a + b1, data = data)   list(     estimate = coef(fit)[\"t2_a\"],     se = sqrt(diag(vcov(fit)))[\"t2_a\"],     converged = TRUE   ) }  # Run simulation results <- margot_monte_carlo(   n_reps = 500,   n_per_rep = 1000,   dgp_params = list(     waves = 3,     params = list(a_lag_y_coef = 0.3)   ),   estimator_fn = my_estimator ) } # }"},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_process_longitudinal.html","id":null,"dir":"Reference","previous_headings":"","what":"Process longitudinal data in wide format with censoring — margot_process_longitudinal","title":"Process longitudinal data in wide format with censoring — margot_process_longitudinal","text":"Internal replacement margot_process_longitudinal_data_wider(). Processes longitudinal data wide format across multiple waves, handling censoring indicators optional scaling.","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_process_longitudinal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process longitudinal data in wide format with censoring — margot_process_longitudinal","text":"","code":"margot_process_longitudinal(   df_wide,   exposure_vars = NULL,   outcome_vars = NULL,   preserve_temporal_order = TRUE,   scale_continuous = FALSE,   not_lost_suffix = \"not_lost_following_wave\",   time_point_regex = \"^(t\\\\d+)_.*$\" )"},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_process_longitudinal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process longitudinal data in wide format with censoring — margot_process_longitudinal","text":"df_wide Wide-format data frame containing time-prefixed columns (e.g., `t0_x`) exposure_vars Character vector exposure base names (without time prefixes) outcome_vars Character vector outcome base names (without time prefixes) preserve_temporal_order Logical; TRUE, maintains temporal ordering (t0_var, t1_var, ..., tn_var) scale_continuous Logical; TRUE, scales continuous variables. Default: FALSE not_lost_suffix Suffix -lost indicator. Default: \"not_lost_following_wave\" time_point_regex Regex pattern identify time-point prefixes. Default: \"^(t\\d+)_.*$\"","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_process_longitudinal.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process longitudinal data in wide format with censoring — margot_process_longitudinal","text":"data frame processed columns censoring indicators. Future waves   set NA censored subjects (carry-forward).","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_process_longitudinal.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Process longitudinal data in wide format with censoring — margot_process_longitudinal","text":"## Censoring Propagation function enforces monotonic missingness patterns: - subject lost (data wave k), remain lost - future waves set NA consistency - prevents \"resurrections\" subjects reappear lost ## -Lost Indicators wave k, indicator `tk_not_lost_following_wave` created: - Value = 1: Subject least data wave k+1 - Value = 0: Subject data wave k+1 (censored) indicators essential : - Constructing inverse probability weights - Defining -risk set wave - Implementing proper survival analysis methods ## Carry-Forward function implement last observation carried forward (LOCF). Missing values due censoring remain NA. intentional : - LOCF can introduce bias longitudinal causal inference - Modern methods (IPCW, g-computation) handle missingness appropriately - Carrying forward values can mask true censoring pattern","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_report_sim.html","id":null,"dir":"Reference","previous_headings":"","what":"Report margot simulation summary — margot_report_sim","title":"Report margot simulation summary — margot_report_sim","text":"Provides formatted summary margot_simulate() output object, including structural model details, sample sizes, censoring patterns.","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_report_sim.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Report margot simulation summary — margot_report_sim","text":"","code":"margot_report_sim(dat)"},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_report_sim.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Report margot simulation summary — margot_report_sim","text":"dat data frame tibble output margot_simulate","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_report_sim.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Report margot simulation summary — margot_report_sim","text":"Invisibly returns metadata list. Called side effect   printing formatted summary console.","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_report_sim.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Report margot simulation summary — margot_report_sim","text":"","code":"dat <- margot_simulate(n = 100, waves = 3, seed = 123) margot_report_sim(dat) #>  #> ── margot simulation summary ─────────────────────────────────────────────────── #>  #> ── design ── #>  #> • n = 100 subjects #> • waves = 3 measurement occasions #> • structural model: semi-markovian #> • intervention: no #> • sampling weights: no #>  #> ── variables ── #>  #> • baseline covariates: 5 #> • exposure type: binary #> • outcome type: continuous (1 outcome) #> • outcome feedback: full #>  #> ── censoring ── #>  #> • censoring mechanism: built-in #> • base rate: 0.1 #> ℹ data format: wide (id only)"},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_scm_details.html","id":null,"dir":"Reference","previous_headings":"","what":"Display detailed SCM equations — margot_scm_details","title":"Display detailed SCM equations — margot_scm_details","text":"Provides detailed mathematical specifications structural causal model (SCM) used margot_simulate. Shows DAG structure specific parametric forms structural equations.","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_scm_details.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Display detailed SCM equations — margot_scm_details","text":"","code":"margot_scm_details(format = c(\"text\", \"latex\"), estimand = NULL)"},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_scm_details.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Display detailed SCM equations — margot_scm_details","text":"format Character: \"text\" console output, \"latex\" LaTeX estimand Character: specific estimand highlight (optional)","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_scm_details.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Display detailed SCM equations — margot_scm_details","text":"Invisibly returns list equations","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_scm_overview.html","id":null,"dir":"Reference","previous_headings":"","what":"High-level SCM overview — margot_scm_overview","title":"High-level SCM overview — margot_scm_overview","text":"Provides high-level overview structural causal model implementation margot, including key principles, available estimands, usage guidance.","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_scm_overview.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"High-level SCM overview — margot_scm_overview","text":"","code":"margot_scm_overview(topic = NULL)"},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_scm_overview.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"High-level SCM overview — margot_scm_overview","text":"topic Optional specific topic focus ","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_scm_overview.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"High-level SCM overview — margot_scm_overview","text":"Invisibly returns NULL","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_simulate.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulate semi-markovian longitudinal data with sampling weights — margot_simulate","title":"Simulate semi-markovian longitudinal data with sampling weights — margot_simulate","text":"Generates data following semi-markovian structural causal model (SCM) : - Semi-markovian data generating process - Optional sampling weights reflect target population - Intervention functions causal inference - Post-hoc censoring bias analysis function cleanly separates three stages: 1. Data generation intervention g (specified): \\((B, L_k^g, A_k^g, Y_k^g)\\) 2. Application sampling weights match target population 3. Creation censoring indicators: \\(C_k\\) (via margot_process_longitudinal) mirrors counterfactual notation: \\(A_k \\A_k^g, C_k \\equiv 0, Y_K^{g,C=0}\\)","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_simulate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulate semi-markovian longitudinal data with sampling weights — margot_simulate","text":"","code":"margot_simulate(   n,   waves,   n_outcomes = 1,   n_baselines = 5,   exposure_type = \"binary\",   outcome_type = \"continuous\",   y_feedback = c(\"full\", \"y_only\", \"none\"),   censoring = list(rate = 0.1, exposure_dependence = TRUE, l_dependence = FALSE,     y_dependence = FALSE, latent_dependence = FALSE),   params = list(),   seed = NULL,   wide = TRUE,   validate_props = TRUE,   verbose = FALSE,   intervention = NULL,   sampling_weights = NULL,   apply_process_function = TRUE,   process_args = list(),   shadows = NULL )"},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_simulate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulate semi-markovian longitudinal data with sampling weights — margot_simulate","text":"n Integer. Number subjects simulate waves Integer. Number measurement waves (time points) n_outcomes Integer. Number outcomes (1-3). Default: 1 n_baselines Integer. Number baseline covariates. Default: 5 exposure_type Character. Type exposure: \"binary\" \"continuous\". Default: \"binary\" outcome_type Character. Type outcome: \"continuous\" \"binary\". Default: \"continuous\" y_feedback Character. Type outcome feedback: \"full\", \"y_only\", \"none\". Default: \"full\" censoring List. Censoring parameters including rate, exposure_dependence, l_dependence, y_dependence, latent_dependence params List. Named list model parameters (see defaults .default_sim_params()). Key heterogeneity parameters include: a_b1_y_het, a_b2_y_het, a_b3_y_het: Effect modification baseline covariates a_y0_y_het: Effect modification baseline outcome (y_feedback != \"none\") a_a0_y_het: Effect modification baseline exposure a_b_y_het: Legacy parameter b1 interaction (kept compatibility) a_l_y_het: Effect modification time-varying confounder seed Integer. Random seed reproducibility wide Logical. Return data wide format? Default: TRUE validate_props Logical. Validate coefficients sum < 1? Default: TRUE verbose Logical. Print progress messages? Default: FALSE intervention Function. Intervention function(data, time, trt) modifies treatment sampling_weights Numeric vector length n, function(baseline_data) returns weights. Used weight baseline covariates reflect target population. NULL, weighting applied. apply_process_function Logical. TRUE, applies margot_process_longitudinal create proper censoring indicators process_args List arguments pass margot_process_longitudinal shadows shadow object list shadow objects created create_shadow() related functions. Shadows applied data generation processing simulate observational distortions like measurement error, missingness, selection bias.","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_simulate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulate semi-markovian longitudinal data with sampling weights — margot_simulate","text":"tibble columns :   - id: Subject identifier   - b1, ..., bn: Baseline covariates   - t0_a, t1_a, ...: Treatment assignments (natural intervention)   - t1_l, t2_l, ...: Time-varying confounders   - t0_y, t1_y, ..., t(K+1)_y: Outcomes   - t*_not_lost_following_wave: Censoring indicators (apply_process_function = TRUE)   - sampling_weight: Applied weights (sampling_weights provided) returned object attribute \"margot_meta\" containing simulation parameters.","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_simulate.html","id":"directed-acyclic-graph-dag-","dir":"Reference","previous_headings":"","what":"Directed Acyclic Graph (DAG)","title":"Simulate semi-markovian longitudinal data with sampling weights — margot_simulate","text":"data generating process follows DAG structure:","code":"B --+---> L_1 ---> A_1 ---> Y_1 ---> L_2 ---> A_2 ---> Y_2 ---> ... ---> Y_K         |      |      |      |      |      |      |         |      v      v      v      v      v      v         +----> C_1     C_2     C_3    C_4     C_5     C_6  Where:   B  = Baseline covariates (time-invariant)   L_k = Time-varying confounders at wave k   A_k = Exposure/treatment at wave k   Y_k = Outcome(s) at wave k   C_k = Censoring indicator after wave k"},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_simulate.html","id":"structural-equations","dir":"Reference","previous_headings":"","what":"Structural Equations","title":"Simulate semi-markovian longitudinal data with sampling weights — margot_simulate","text":"SCM defined following structural equations. baseline (k=0): $$B \\sim \\text{MVN}(0, \\Sigma_B) \\text{ } \\Sigma_B[,j] = \\rho_B \\text{ } \\neq j$$ $$A_0 = f_{A_0}(B, U_{A_0})$$ $$Y_0 = f_{Y_0}(B, A_0, U_{Y_0})$$ wave k >= 1: $$L_k = \\beta_{B \\L} \\cdot h_k(B) + \\beta_{\\L} A_{k-1} + \\beta_{Y \\L} Y_{k-1} + U_{L_k}$$ $$A_k = f_{A_k}(B, L_k, A_{k-1}, Y_{k-1}, U_{A_k})$$ $$Y_k = f_{Y_k}(B, L_{k-1}, A_{k-1}, Y_{k-1}, U_{Y_k})$$ $$C_k = f_{C_k}(A_{k-1}, L_{k-1}, Y_{k-1}, \\theta, U_{C_k})$$ : - \\(h_k(B)\\) represents time-varying functions baseline covariates - \\(U_{\\cdot} \\sim N(0,1)\\) independent errors except noted - \\(\\theta\\) shared frailty term latent_dependence = TRUE","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_simulate.html","id":"unmeasured-confounding","dir":"Reference","previous_headings":"","what":"Unmeasured Confounding","title":"Simulate semi-markovian longitudinal data with sampling weights — margot_simulate","text":"following unmeasured confounding structures supported: 1. **Independent errors** (default): \\(U_{\\cdot}\\) mutually independent 2. **Shared frailty censoring**: latent_dependence = TRUE,    $$\\theta \\sim N(0, \\sigma^2_{\\text{frailty}})$$    affects censoring events, inducing correlation dropout times 3. **Correlated outcomes**: n_outcomes > 1,    $$U_{Y_k} \\sim \\text{MVN}(0, \\Sigma_Y)$$    \\(\\Sigma_Y\\) -diagonal elements y_cor Note: unmeasured confounding treatment outcome design. confounding passes measured variables (B, L).","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_simulate.html","id":"parameter-interpretation","dir":"Reference","previous_headings":"","what":"Parameter Interpretation","title":"Simulate semi-markovian longitudinal data with sampling weights — margot_simulate","text":"Key parameters structural equations: - b_l_coef: \\(\\beta_{B \\L}\\) effect baseline time-varying confounder - a_l_coef: \\(\\beta_{\\L}\\) effect past treatment confounder - y_l_coef: \\(\\beta_{Y \\L}\\) feedback past outcome confounder - l_a_coef: \\(\\beta_{L \\}\\) effect confounder treatment - a_autoreg: \\(\\beta_{\\}\\) treatment persistence - a_lag_y_coef: \\(\\beta_{\\Y}\\) causal effect treatment outcome - cens_*_coef: Effects censoring hazard","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_simulate.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Simulate semi-markovian longitudinal data with sampling weights — margot_simulate","text":"Robins JM (1986). \"new approach causal inference mortality studies sustained exposure periods–application control healthy worker survivor effect.\" Mathematical Modelling, 7(9-12), 1393-1512. Hernan MA, Robins JM (2020). \"Causal Inference: .\" Boca Raton: Chapman & Hall/CRC.","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_simulate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulate semi-markovian longitudinal data with sampling weights — margot_simulate","text":"","code":"# basic simulation following the SCM dat <- margot_simulate(   n = 1000,   waves = 3,   seed = 2025 )  # with intervention g: always treat after baseline dat_g <- margot_simulate(   n = 1000,   waves = 3,   intervention = function(data, time, trt) {     if (time == 0) return(data[[trt]])  # natural at baseline     rep(1, nrow(data))                   # always treat after   },   seed = 2025 ) #> Warning: Positivity violation at time 1 for t1_a: 100.0% treated (threshold: 1.0%) #> Warning: Positivity violation at time 2 for t2_a: 100.0% treated (threshold: 1.0%) #> Warning: Positivity violation at time 3 for t3_a: 100.0% treated (threshold: 1.0%)  # the estimand E[Y_K^{g,C=0}] can be computed as mean(dat_g$t4_y)  # Example with shadows # Create measurement error shadow me_shadow <- create_shadow(   \"measurement_error\",   params = list(     variables = c(\"t1_l\", \"t2_l\"),     error_type = \"classical\",     sigma = 0.5   ) )  # Generate data with measurement error dat_with_error <- margot_simulate(   n = 1000,   waves = 2,   shadows = me_shadow,   seed = 2025 ) # shadowed data has measurement error applied to specified variables"},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_simulate_causal.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulate data for causal inference with proper censoring — margot_simulate_causal","title":"Simulate data for causal inference with proper censoring — margot_simulate_causal","text":"Wrapper function simulates data multiple intervention regimes causal inference. Supports: - Multiple treatment strategies - Sampling weights target populations - Post-hoc censoring create realistic observed data - Automatic computation true causal effects - Bias analysis censoring","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_simulate_causal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulate data for causal inference with proper censoring — margot_simulate_causal","text":"","code":"margot_simulate_causal(   n,   waves,   treatments,   interventions,   sampling_weights = NULL,   apply_censoring = FALSE,   use_process_function = TRUE,   common_params = list(),   ... )"},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_simulate_causal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulate data for causal inference with proper censoring — margot_simulate_causal","text":"n Integer. Number subjects simulate waves Integer. Number measurement waves treatments Character vector. Names treatment variables (currently uses first) interventions Named list intervention functions. function signature function(data, time, trt) return treatment values sampling_weights Weights function create target population apply_censoring Logical. Apply censoring create observed data? use_process_function Logical. Use margot_process_longitudinal? common_params List elements: - params: Parameters margot_simulate - censoring_params: Censoring parameters - verbose: Print progress? ... Additional arguments passed margot_simulate","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_simulate_causal.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulate data for causal inference with proper censoring — margot_simulate_causal","text":"Object class \"margot_causal_sim\" containing:   - data: List datasets intervention   - effects: True causal effects (multiple interventions)   - censoring_bias: Bias induced censoring (apply_censoring = TRUE)   - metadata: Simulation metadata","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_simulate_causal.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulate data for causal inference with proper censoring — margot_simulate_causal","text":"","code":"# Define interventions interventions <- list(   never_treat = function(data, time, trt) {     rep(0, nrow(data))   },   always_treat = function(data, time, trt) {     rep(1, nrow(data))   },   natural = function(data, time, trt) {     data[[trt]]  # return natural treatment   } )  # Simulate with censoring results <- margot_simulate_causal(   n = 1000,   waves = 3,   treatments = \"a\",   interventions = interventions,   apply_censoring = TRUE,   common_params = list(     params = list(a_lag_y_coef = 0.3),     verbose = TRUE   ) ) #> simulating under intervention: never_treat #> Warning: Positivity violation at time 0 for t0_a: 0.0% treated (threshold: 1.0%) #> Warning: Positivity violation at time 1 for t1_a: 0.0% treated (threshold: 1.0%) #> Warning: Positivity violation at time 2 for t2_a: 0.0% treated (threshold: 1.0%) #> Warning: Positivity violation at time 3 for t3_a: 0.0% treated (threshold: 1.0%) #> simulating under intervention: always_treat #> Warning: Positivity violation at time 0 for t0_a: 100.0% treated (threshold: 1.0%) #> Warning: Positivity violation at time 1 for t1_a: 100.0% treated (threshold: 1.0%) #> Warning: Positivity violation at time 2 for t2_a: 100.0% treated (threshold: 1.0%) #> Warning: Positivity violation at time 3 for t3_a: 100.0% treated (threshold: 1.0%) #> simulating under intervention: natural"},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_simulate_flex.html","id":null,"dir":"Reference","previous_headings":"","what":"Enhanced margot_simulate with flexible distributions — margot_simulate_flex","title":"Enhanced margot_simulate with flexible distributions — margot_simulate_flex","text":"Enhanced margot_simulate flexible distributions","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_simulate_flex.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Enhanced margot_simulate with flexible distributions — margot_simulate_flex","text":"","code":"margot_simulate_flex(   n,   waves,   distributions = NULL,   ...,   validate_distributions = TRUE )"},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_simulate_flex.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Enhanced margot_simulate with flexible distributions — margot_simulate_flex","text":"n Integer. Number subjects simulate waves Integer. Number measurement waves (time points) distributions Distribution set list distributions ... Additional arguments passed margot_simulate validate_distributions Logical. Validate distribution specifications? Default: TRUE","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/margot_simulate_flex.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Enhanced margot_simulate with flexible distributions — margot_simulate_flex","text":"Simulated data specified distributions","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/plot.margot_mc_results.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Monte Carlo results — plot.margot_mc_results","title":"Plot Monte Carlo results — plot.margot_mc_results","text":"Plot Monte Carlo results","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/plot.margot_mc_results.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Monte Carlo results — plot.margot_mc_results","text":"","code":"# S3 method for class 'margot_mc_results' plot(x, type = c(\"histogram\", \"qq\", \"trace\", \"bias\"), ...)"},{"path":"https://go-bayes.github.io/margot.sim/reference/plot.margot_mc_results.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Monte Carlo results — plot.margot_mc_results","text":"x margot_mc_results object type Character string specifying plot type: \"histogram\", \"qq\", \"trace\", \"bias\" ... Additional arguments passed ggplot2 functions","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/plot.margot_mc_results.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Monte Carlo results — plot.margot_mc_results","text":"ggplot2 plot object","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/print.margot_causal_sim.html","id":null,"dir":"Reference","previous_headings":"","what":"Print method for margot_causal_sim — print.margot_causal_sim","title":"Print method for margot_causal_sim — print.margot_causal_sim","text":"Print method margot_causal_sim","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/print.margot_causal_sim.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print method for margot_causal_sim — print.margot_causal_sim","text":"","code":"# S3 method for class 'margot_causal_sim' print(x, ...)"},{"path":"https://go-bayes.github.io/margot.sim/reference/print.margot_causal_sim.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print method for margot_causal_sim — print.margot_causal_sim","text":"x margot_causal_sim object ... Additional arguments (currently unused)","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/print.margot_causal_sim.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print method for margot_causal_sim — print.margot_causal_sim","text":"Invisibly returns original object","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/print.margot_mc_results.html","id":null,"dir":"Reference","previous_headings":"","what":"Print method for Monte Carlo results — print.margot_mc_results","title":"Print method for Monte Carlo results — print.margot_mc_results","text":"Print method Monte Carlo results","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/print.margot_mc_results.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print method for Monte Carlo results — print.margot_mc_results","text":"","code":"# S3 method for class 'margot_mc_results' print(x, digits = 4, ...)"},{"path":"https://go-bayes.github.io/margot.sim/reference/print.margot_mc_results.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print method for Monte Carlo results — print.margot_mc_results","text":"x margot_mc_results object digits Integer. Number digits display ... Additional arguments (currently unused)","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/print.margot_mc_results.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print method for Monte Carlo results — print.margot_mc_results","text":"Invisibly returns original object","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/print.mask_effects.html","id":null,"dir":"Reference","previous_headings":"","what":"Print mask effects — print.mask_effects","title":"Print mask effects — print.mask_effects","text":"Print mask effects","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/print.mask_effects.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print mask effects — print.mask_effects","text":"","code":"# S3 method for class 'mask_effects' print(x, ...)"},{"path":"https://go-bayes.github.io/margot.sim/reference/print.mc_comparison.html","id":null,"dir":"Reference","previous_headings":"","what":"Print method for MC comparison — print.mc_comparison","title":"Print method for MC comparison — print.mc_comparison","text":"Print method MC comparison","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/print.mc_comparison.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print method for MC comparison — print.mc_comparison","text":"","code":"# S3 method for class 'mc_comparison' print(x, digits = 4, ...)"},{"path":"https://go-bayes.github.io/margot.sim/reference/print.mc_comparison.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print method for MC comparison — print.mc_comparison","text":"x mc_comparison object compare_mc_results() digits Integer. Number digits display ... Additional arguments (currently unused)","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/print.mc_comparison.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print method for MC comparison — print.mc_comparison","text":"Invisibly returns original object","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/print.shadow_effects.html","id":null,"dir":"Reference","previous_headings":"","what":"Print shadow effects — print.shadow_effects","title":"Print shadow effects — print.shadow_effects","text":"Print shadow effects","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/print.shadow_effects.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print shadow effects — print.shadow_effects","text":"","code":"# S3 method for class 'shadow_effects' print(x, ...)"},{"path":"https://go-bayes.github.io/margot.sim/reference/print.shadow_effects.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print shadow effects — print.shadow_effects","text":"x shadow_effects object analyse_shadow_effects() ... Additional arguments (currently unused)","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/print.shadow_effects.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print shadow effects — print.shadow_effects","text":"Invisibly returns original object","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/run_all_examples.html","id":null,"dir":"Reference","previous_headings":"","what":"Run all margot examples — run_all_examples","title":"Run all margot examples — run_all_examples","text":"Runs example functions demonstrate package capabilities.","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/run_all_examples.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run all margot examples — run_all_examples","text":"","code":"run_all_examples(pause = TRUE)"},{"path":"https://go-bayes.github.io/margot.sim/reference/run_all_examples.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run all margot examples — run_all_examples","text":"pause Logical. Pause examples?","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/summary.margot_mc_results.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary method for Monte Carlo results — summary.margot_mc_results","title":"Summary method for Monte Carlo results — summary.margot_mc_results","text":"Summary method Monte Carlo results","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/summary.margot_mc_results.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary method for Monte Carlo results — summary.margot_mc_results","text":"","code":"# S3 method for class 'margot_mc_results' summary(object, ...)"},{"path":"https://go-bayes.github.io/margot.sim/reference/summary.margot_mc_results.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary method for Monte Carlo results — summary.margot_mc_results","text":"object margot_mc_results object ... Additional arguments (currently unused)","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/summary.margot_mc_results.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summary method for Monte Carlo results — summary.margot_mc_results","text":"summary object class \"summary.margot_mc_results\"","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/test_censoring_simple.html","id":null,"dir":"Reference","previous_headings":"","what":"Test simple censoring — test_censoring_simple","title":"Test simple censoring — test_censoring_simple","text":"Example function demonstrating basic censoring functionality. Generates data high censoring rate show effect.","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/test_censoring_simple.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Test simple censoring — test_censoring_simple","text":"","code":"test_censoring_simple()"},{"path":"https://go-bayes.github.io/margot.sim/reference/test_censoring_simple.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Test simple censoring — test_censoring_simple","text":"Invisibly returns generated data","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/validate_mask_params.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate mask parameters — validate_mask_params","title":"Validate mask parameters — validate_mask_params","text":"Validate mask parameters","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/validate_mask_params.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate mask parameters — validate_mask_params","text":"","code":"validate_mask_params(type, params)"},{"path":"https://go-bayes.github.io/margot.sim/reference/validate_proportions.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate that coefficients sum to less than 1 — validate_proportions","title":"Validate that coefficients sum to less than 1 — validate_proportions","text":"Validate coefficients sum less 1","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/validate_proportions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate that coefficients sum to less than 1 — validate_proportions","text":"","code":"validate_proportions(coefs, node_name, threshold = 0.95)"},{"path":"https://go-bayes.github.io/margot.sim/reference/validate_scm_assumptions.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate SCM assumptions in simulated data — validate_scm_assumptions","title":"Validate SCM assumptions in simulated data — validate_scm_assumptions","text":"Tests whether simulated data follows expected structural causal model checking independence assumptions, temporal ordering, structural effects.","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/validate_scm_assumptions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate SCM assumptions in simulated data — validate_scm_assumptions","text":"","code":"validate_scm_assumptions(   data,   tests = c(\"independence\", \"temporal\", \"structural\"),   alpha = 0.05,   verbose = TRUE )"},{"path":"https://go-bayes.github.io/margot.sim/reference/validate_scm_assumptions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate SCM assumptions in simulated data — validate_scm_assumptions","text":"data Data frame margot_simulate tests Character vector tests perform alpha Significance level tests verbose Print detailed results?","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/validate_scm_assumptions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate SCM assumptions in simulated data — validate_scm_assumptions","text":"List test results pass/fail summary","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/validate_shadow_params.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate shadow parameters — validate_shadow_params","title":"Validate shadow parameters — validate_shadow_params","text":"Validate shadow parameters","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/validate_shadow_params.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate shadow parameters — validate_shadow_params","text":"","code":"validate_shadow_params(type, params)"},{"path":"https://go-bayes.github.io/margot.sim/reference/validate_temporal_order.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate temporal order of shadow dependencies — validate_temporal_order","title":"Validate temporal order of shadow dependencies — validate_temporal_order","text":"Validate temporal order shadow dependencies","code":""},{"path":"https://go-bayes.github.io/margot.sim/reference/validate_temporal_order.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate temporal order of shadow dependencies — validate_temporal_order","text":"","code":"validate_temporal_order(target_vars, dependency_vars)"},{"path":[]},{"path":"https://go-bayes.github.io/margot.sim/news/index.html","id":"bug-fixes-0-1-1","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"margot.sim 0.1.1 (2025-06-10)","text":"Fixed vignette errors applying-shadows.Rmd monte-carlo-simple.Rmd Corrected function signatures create_positivity_shadow() analyse_shadow_effects() Fixed pkgdown accessibility warning adding aria-label GitHub icon","code":""},{"path":"https://go-bayes.github.io/margot.sim/news/index.html","id":"new-features-0-1-1","dir":"Changelog","previous_headings":"","what":"New features","title":"margot.sim 0.1.1 (2025-06-10)","text":"Shadows can depend variables time point earlier Prevents future information affecting past measurements Added internal functions get_time_index() validate_temporal_order() Comprehensive tests ensure temporal causality maintained","code":""},{"path":"https://go-bayes.github.io/margot.sim/news/index.html","id":"improvements-0-1-1","dir":"Changelog","previous_headings":"","what":"Improvements","title":"margot.sim 0.1.1 (2025-06-10)","text":"Added GitHub Actions workflows R CMD check code coverage Added badges lifecycle, license, R CMD check, code coverage, GitHub stars Cleaned internal function documentation","code":""},{"path":[]},{"path":"https://go-bayes.github.io/margot.sim/news/index.html","id":"new-0-1-0","dir":"Changelog","previous_headings":"","what":"New","title":"[2025-06-10] margot.sim 0.1.0","text":"Initial release margot.sim package Classical measurement error continuous variables Misclassification bias binary variables (sensitivity/specificity) Differential measurement error Dichotomization thresholds Correlated errors across variables Item-level missingness (MCAR, MAR, MNAR mechanisms) Positivity violations (filtering impossible exposures) Selection bias (baseline post-treatment) Parallel processing support Automatic performance metrics (bias, variance, MSE, coverage) Comparison functions multiple methods Support parametric custom distributions Distribution sets multivariate outcomes Integration margot_simulate() function via shadows parameter Comprehensive unit tests using testthat Package website using pkgdown Examples demonstrating complete workflows","code":""},{"path":"https://go-bayes.github.io/margot.sim/news/index.html","id":"improved-0-1-0","dir":"Changelog","previous_headings":"","what":"Improved","title":"[2025-06-10] margot.sim 0.1.0","text":"Replaced external dependency margot::margot_process_longitudinal_data_wider() internal margot.sim::margot_process_longitudinal() function margot-simulate-core.R - Main simulation function margot-simulate-censoring.R - Censoring functions margot-simulate-causal.R - Causal inference wrapper margot-simulate-utils.R - Utility functions margot-scm-docs.R - SCM documentation margot-simulate-examples.R - Example functions Changed terminology “masks/masking” “shadows/shadowing” better metaphor Added startup message showing package version (can suppressed options(margot.sim.quiet = TRUE))","code":""}]
